
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Técnicas de Teste Funcional (Caixa-Preta) &#8212; Teste de Software</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=a8e58a58"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="https://wavedrom.com/skins/default.js"></script>
    <script src="https://wavedrom.com/wavedrom.min.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
    <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/aulas/aula-06-08-tecnicas-teste-funcional-caixa-preta/README';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.9.0/dist/mermaid.min.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="prev" title="Casos de Teste e Critérios" href="../aula-05-casos-teste-criterios/README.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../README.html">
  
  
  
  
  
  
    <p class="title logo__title">Teste de Software</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../README.html">
                    Teste de Software I
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Aulas da Disciplina</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../aula-01-02-introducao-teste-software-qualidade/README.html">Introdução ao Teste de Software e Qualidade de Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aula-03-04-conceitos-fundamentais-teste/README.html">Conceitos Fundamentais de Teste</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aula-05-casos-teste-criterios/README.html">Casos de Teste e Critérios</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Técnicas de Teste Funcional (Caixa-Preta)</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Técnicas de Teste Funcional (Caixa-Preta)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sumario-completo">Sumário Completo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#abertura-e-engajamento">1. Abertura e Engajamento</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#problema-motivador-o-desafio-da-validacao-em-sistemas-criticos">1.1. Problema Motivador: O Desafio da Validação em Sistemas Críticos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contexto-historico-e-relevancia-atual">1.2. Contexto Histórico e Relevância Atual</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fundamentos-teoricos">2. Fundamentos Teóricos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#particionamento-de-equivalencia">2.1. Particionamento de Equivalência</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#terminologia-essencial-e-definicoes-formais">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estrutura-conceitual">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#classes-de-equivalencia-validas-e-invalidas">Classes de Equivalência Válidas e Inválidas</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#processo-de-identificacao-de-classes">Processo de Identificação de Classes</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#regras-de-particionamento">Regras de Particionamento</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-pratico-sistema-de-cadastro-de-usuario">Exemplo Prático: Sistema de Cadastro de Usuário</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modelagem-matematica">Modelagem Matemática</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-consequencias-e-trade-offs">Análise de Consequências e Trade-offs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-critica">Análise Crítica</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-do-valor-limite">2.2. Análise do Valor Limite</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#principio-da-concentracao-de-defeitos-em-fronteiras">Princípio da Concentração de Defeitos em Fronteiras</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#estrategias-de-selecao-de-valores-limite">Estratégias de Seleção de Valores Limite</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-detalhado-sistema-de-reserva-de-passagens">Exemplo Detalhado: Sistema de Reserva de Passagens</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Modelagem Matemática</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Análise de Consequências e Trade-offs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Análise Crítica</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tabelas-de-decisao">2.3. Tabelas de Decisão</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#componentes-fundamentais-de-uma-tabela-de-decisao">Componentes Fundamentais de uma Tabela de Decisão</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#processo-de-construcao-de-tabelas-de-decisao">Processo de Construção de Tabelas de Decisão</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-detalhado-sistema-de-aprovacao-de-credito">Exemplo Detalhado: Sistema de Aprovação de Crédito</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Modelagem Matemática</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Análise de Consequências e Trade-offs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Análise Crítica</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maquinas-de-estado">2.4. Máquinas de Estado</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#componentes-fundamentais">Componentes Fundamentais</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#representacao-visual">Representação Visual</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-detalhado-sistema-de-autenticacao-bancaria">Exemplo Detalhado: Sistema de Autenticação Bancária</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Modelagem Matemática</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Análise de Consequências e Trade-offs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Análise Crítica</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#testes-baseados-em-casos-de-uso">2.5. Testes Baseados em Casos de Uso</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#componentes-de-um-caso-de-uso-para-teste">Componentes de um Caso de Uso para Teste</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#processo-de-derivacao-de-testes">Processo de Derivação de Testes</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-detalhado-sistema-de-e-commerce-finalizar-compra">Exemplo Detalhado: Sistema de E-commerce - “Finalizar Compra”</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#derivacao-de-casos-de-teste">Derivação de Casos de Teste</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicacao-pratica-e-implementacao">3. Aplicação Prática e Implementação</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estudo-de-caso-guiado-sistema-de-autenticacao-bancaria">3.1. Estudo de Caso Guiado: Sistema de Autenticação Bancária</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#especificacao-do-sistema">Especificação do Sistema</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplos-de-codigo-comentado">3.2. Exemplos de Código Comentado</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Particionamento de Equivalência</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Análise do Valor Limite</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tabela-de-decisao">Tabela de Decisão</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#maquina-de-estado">Máquina de Estado</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Testes Baseados em Casos de Uso</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ferramentas-bibliotecas-e-ecossistema">3.3. Ferramentas, Bibliotecas e Ecossistema</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#topicos-avancados-e-nuances">4. Tópicos Avançados e Nuances</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#desafios-comuns-e-anti-padroes">4.1. Desafios Comuns e “Anti-Padrões”</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#explosao-combinatorial-e-gerenciamento-de-complexidade">Explosão Combinatorial e Gerenciamento de Complexidade</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencias-ocultas-e-efeitos-colaterais">Dependências Ocultas e Efeitos Colaterais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evolucao-de-requisitos-e-manutencao-de-testes">Evolução de Requisitos e Manutenção de Testes</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#validacao-inadequada-de-estados-e-transicoes">Validação Inadequada de Estados e Transições</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variacoes-e-arquiteturas-especializadas">4.2. Variações e Arquiteturas Especializadas</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#particionamento-de-equivalencia-para-apis-e-microservicos">Particionamento de Equivalência para APIs e Microserviços</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-do-valor-limite-para-sistemas-distribuidos">Análise do Valor Limite para Sistemas Distribuídos</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tabelas-de-decisao-para-compliance-e-regulamentacao">Tabelas de Decisão para Compliance e Regulamentação</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-performance-e-otimizacao">4.3. Análise de Performance e Otimização</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metricas-de-eficacia-das-tecnicas-funcionais">Métricas de Eficácia das Técnicas Funcionais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estrategias-de-paralelizacao-e-otimizacao">Estratégias de Paralelização e Otimização</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sintese-e-perspectivas-futuras">5. Síntese e Perspectivas Futuras</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conexoes-com-outras-areas-da-computacao">5.1. Conexões com Outras Áreas da Computação</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-fronteira-da-pesquisa-e-o-futuro">5.2. A Fronteira da Pesquisa e o Futuro</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resumo-do-capitulo-e-mapa-mental">5.3. Resumo do Capítulo e Mapa Mental</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#referencias-e-leituras-adicionais">5.4. Referências e Leituras Adicionais</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tecnicas-de-teste-funcional-caixa-preta">
<h1>Técnicas de Teste Funcional (Caixa-Preta)<a class="headerlink" href="#tecnicas-de-teste-funcional-caixa-preta" title="Link to this heading">#</a></h1>
<section id="sumario-completo">
<h2>Sumário Completo<a class="headerlink" href="#sumario-completo" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p><strong>Abertura e Engajamento</strong></p>
<ul class="simple">
<li><p>1.1. Problema Motivador: O Desafio da Validação em Sistemas Críticos</p></li>
<li><p>1.2. Contexto Histórico e Relevância Atual</p></li>
</ul>
</li>
<li><p><strong>Fundamentos Teóricos</strong></p>
<ul class="simple">
<li><p>2.1. Particionamento de Equivalência</p></li>
<li><p>2.2. Análise do Valor Limite</p></li>
<li><p>2.3. Tabelas de Decisão</p></li>
<li><p>2.4. Máquinas de Estado</p></li>
<li><p>2.5. Testes Baseados em Casos de Uso</p></li>
</ul>
</li>
<li><p><strong>Aplicação Prática e Implementação</strong></p>
<ul class="simple">
<li><p>3.1. Estudo de Caso Guiado: Sistema de Autenticação Bancária</p></li>
<li><p>3.2. Exemplos de Código Comentado</p></li>
<li><p>3.3. Ferramentas, Bibliotecas e Ecossistema</p></li>
</ul>
</li>
<li><p><strong>Tópicos Avançados e Nuances</strong></p>
<ul class="simple">
<li><p>4.1. Desafios Comuns e Anti-Padrões</p></li>
<li><p>4.2. Variações e Arquiteturas Especializadas</p></li>
<li><p>4.3. Análise de Performance e Otimização</p></li>
</ul>
</li>
<li><p><strong>Síntese e Perspectivas Futuras</strong></p>
<ul class="simple">
<li><p>5.1. Conexões com Outras Áreas da Computação</p></li>
<li><p>5.2. A Fronteira da Pesquisa e o Futuro</p></li>
<li><p>5.3. Resumo do Capítulo e Mapa Mental</p></li>
<li><p>5.4. Referências e Leituras Adicionais</p></li>
</ul>
</li>
</ol>
</section>
<hr class="docutils" />
<section id="abertura-e-engajamento">
<h2>1. Abertura e Engajamento<a class="headerlink" href="#abertura-e-engajamento" title="Link to this heading">#</a></h2>
<section id="problema-motivador-o-desafio-da-validacao-em-sistemas-criticos">
<h3>1.1. Problema Motivador: O Desafio da Validação em Sistemas Críticos<a class="headerlink" href="#problema-motivador-o-desafio-da-validacao-em-sistemas-criticos" title="Link to this heading">#</a></h3>
<p>Imagine que você é o engenheiro de qualidade responsável por validar o sistema de transferência bancária do maior banco digital do país. Milhões de transações são processadas diariamente, envolvendo transferências que variam desde R$ 0,01 até valores da ordem de milhões de reais. O sistema deve verificar limites por tipo de conta, aplicar diferentes taxas conforme horários e valores, validar dados dos beneficiários e ainda considerar regras especiais para feriados e finais de semana.</p>
<p>Como você garantiria que todas as possíveis combinações de entrada foram testadas adequadamente? Como ter certeza de que o sistema comporta-se corretamente tanto para um PIX de R<span class="math notranslate nohighlight">\( 10,00 quanto para uma TED de R\)</span> 500.000,00? E mais importante: como fazer isso de forma eficiente, sem precisar testar literalmente todos os valores possíveis - o que seria matematicamente inviável?</p>
<p>Este cenário ilustra perfeitamente o desafio central que as técnicas de teste funcional (caixa-preta) foram desenvolvidas para resolver: <strong>como validar sistematicamente o comportamento de um sistema complexo focando nas suas especificações e requisitos, sem depender do conhecimento da implementação interna, e fazendo isso de forma eficiente e abrangente</strong>.</p>
<p>As técnicas que estudaremos nesta aula - Particionamento de Equivalência, Análise do Valor Limite, Tabelas de Decisão, Máquinas de Estado e Testes Baseados em Casos de Uso - são ferramentas fundamentais que permitem aos engenheiros de software construir estratégias de teste rigorosas, sistemáticas e economicamente viáveis para sistemas críticos como este.</p>
</section>
<section id="contexto-historico-e-relevancia-atual">
<h3>1.2. Contexto Histórico e Relevância Atual<a class="headerlink" href="#contexto-historico-e-relevancia-atual" title="Link to this heading">#</a></h3>
<p>O conceito de teste funcional tem suas raízes nos primórdios da computação. Na década de 1950, quando os primeiros computadores comerciais começaram a ser utilizados em aplicações críticas como controle de voo e sistemas militares, os engenheiros rapidamente perceberam que era impossível garantir a correção dos programas apenas através da inspeção do código.</p>
<p><strong>Glenford Myers</strong>, considerado um dos pioneiros do teste de software, formalizou em seu livro seminal “The Art of Software Testing” (1979) os princípios fundamentais do teste funcional, incluindo as primeiras definições rigorosas de particionamento de equivalência e análise do valor limite. Myers argumentou que o teste deve ser uma atividade destrutiva - seu objetivo é encontrar defeitos, não provar que o software está correto.</p>
<p><strong>Boris Beizer</strong> expandiu significativamente essas ideias em “Software Testing Techniques” (1983), introduzindo conceitos avançados de modelagem para teste, incluindo o uso sistemático de máquinas de estado e tabelas de decisão. Beizer foi pioneiro ao conectar a teoria formal de autômatos com práticas concretas de teste de software.</p>
<p><strong>Ivar Jacobson</strong>, conhecido principalmente por seu trabalho em UML e processos de desenvolvimento orientados a objetos, revolucionou os testes baseados em casos de uso em “Object-Oriented Software Engineering” (1992), estabelecendo a conexão direta entre requisitos funcionais expressos como casos de uso e a derivação sistemática de casos de teste.</p>
<p><strong>Relevância Atual e Aplicações Modernas</strong></p>
<p>Hoje, essas técnicas são mais relevantes do que nunca. Em um mundo onde sistemas de software controlam desde transações financeiras até veículos autônomos, a necessidade de validação sistemática e rigorosa tornou-se crítica. Aplicações modernas incluem:</p>
<ul class="simple">
<li><p><strong>Sistemas Financeiros</strong>: Validação de regras complexas em fintechs, criptomoedas e sistemas de pagamento digital</p></li>
<li><p><strong>Saúde Digital</strong>: Testes de sistemas de prontuário eletrônico, dispositivos médicos conectados e telemedicina</p></li>
<li><p><strong>Sistemas Automotivos</strong>: Validação de software embarcado em veículos, desde sistemas de entretenimento até controles críticos de segurança</p></li>
<li><p><strong>Internet das Coisas (IoT)</strong>: Teste de comportamento de dispositivos conectados sob diferentes condições ambientais e de conectividade</p></li>
<li><p><strong>Microserviços e APIs</strong>: Validação de contratos de API e comportamento de sistemas distribuídos</p></li>
</ul>
<p>A crescente complexidade dos sistemas modernos, combinada com a necessidade de deploys contínuos e metodologias ágeis, tornou essencial o domínio dessas técnicas clássicas, agora integradas com ferramentas de automação, CI/CD e práticas de DevOps.</p>
</section>
</section>
<hr class="docutils" />
<section id="fundamentos-teoricos">
<h2>2. Fundamentos Teóricos<a class="headerlink" href="#fundamentos-teoricos" title="Link to this heading">#</a></h2>
<section id="particionamento-de-equivalencia">
<h3>2.1. Particionamento de Equivalência<a class="headerlink" href="#particionamento-de-equivalencia" title="Link to this heading">#</a></h3>
<section id="terminologia-essencial-e-definicoes-formais">
<h4>Terminologia Essencial e Definições Formais<a class="headerlink" href="#terminologia-essencial-e-definicoes-formais" title="Link to this heading">#</a></h4>
<p><strong>Particionamento de Equivalência</strong> é uma técnica de teste funcional que divide o domínio de entrada de um programa em classes ou partições, onde todos os valores dentro de uma mesma classe devem ser tratados de forma equivalente pelo sistema sob teste. Formalmente, dado um domínio de entrada <span class="math notranslate nohighlight">\(D\)</span> e uma função de software <span class="math notranslate nohighlight">\(f\)</span>, uma partição de equivalência <span class="math notranslate nohighlight">\(P_i \subseteq D\)</span> é um subconjunto do domínio onde <span class="math notranslate nohighlight">\(\forall x, y \in P_i\)</span>, o comportamento de <span class="math notranslate nohighlight">\(f(x)\)</span> é equivalente ao comportamento de <span class="math notranslate nohighlight">\(f(y)\)</span>.</p>
<p><strong>Analogia para Entender</strong></p>
<blockquote>
<div><p>Imagine que você está organizando uma festa e precisa definir faixas etárias para diferentes atividades. Você não precisa testar cada idade individualmente (16, 17, 18, 19…), mas pode criar grupos: “menores de 18”, “18-65” e “maiores de 65”. Todos dentro de cada grupo têm o mesmo tratamento. O particionamento de equivalência funciona da mesma forma: agrupa valores que o sistema trata de maneira idêntica.</p>
</div></blockquote>
</section>
<section id="estrutura-conceitual">
<h4>Estrutura Conceitual<a class="headerlink" href="#estrutura-conceitual" title="Link to this heading">#</a></h4>
<section id="classes-de-equivalencia-validas-e-invalidas">
<h5>Classes de Equivalência Válidas e Inválidas<a class="headerlink" href="#classes-de-equivalencia-validas-e-invalidas" title="Link to this heading">#</a></h5>
<p>As classes de equivalência são divididas em duas categorias fundamentais:</p>
<p><strong>Classes Válidas</strong>: Representam dados que o sistema deve aceitar e processar corretamente. Estas classes estão dentro do domínio esperado de operação do sistema.</p>
<p><strong>Classes Inválidas</strong>: Representam dados que o sistema deve rejeitar, tratar como erro ou aplicar comportamentos especiais de validação.</p>
</section>
<section id="processo-de-identificacao-de-classes">
<h5>Processo de Identificação de Classes<a class="headerlink" href="#processo-de-identificacao-de-classes" title="Link to this heading">#</a></h5>
<pre  class="mermaid">
        graph TD
    A[Análise da Especificação] --&gt; B[Identificação de Condições de Entrada]
    B --&gt; C[Definição de Intervalos/Conjuntos]
    C --&gt; D[Criação de Classes Válidas]
    C --&gt; E[Criação de Classes Inválidas]
    D --&gt; F[Seleção de Valores Representativos]
    E --&gt; F
    F --&gt; G[Geração de Casos de Teste]
    </pre></section>
<section id="regras-de-particionamento">
<h5>Regras de Particionamento<a class="headerlink" href="#regras-de-particionamento" title="Link to this heading">#</a></h5>
<ol class="arabic simple">
<li><p><strong>Regra do Intervalo</strong>: Para condições que especificam um intervalo de valores (ex: idade entre 18 e 65):</p>
<ul class="simple">
<li><p>Uma classe válida: valores dentro do intervalo</p></li>
<li><p>Duas classes inválidas: valores abaixo e acima do intervalo</p></li>
</ul>
</li>
<li><p><strong>Regra do Conjunto</strong>: Para condições que especificam um conjunto de valores válidos:</p>
<ul class="simple">
<li><p>Uma classe válida: valores pertencentes ao conjunto</p></li>
<li><p>Uma classe inválida: valores fora do conjunto</p></li>
</ul>
</li>
<li><p><strong>Regra Booleana</strong>: Para condições que requerem uma condição verdadeira ou falsa:</p>
<ul class="simple">
<li><p>Uma classe válida: condição verdadeira</p></li>
<li><p>Uma classe inválida: condição falsa</p></li>
</ul>
</li>
<li><p><strong>Regra de Obrigatoriedade</strong>: Para campos obrigatórios:</p>
<ul class="simple">
<li><p>Uma classe válida: valor presente</p></li>
<li><p>Uma classe inválida: valor ausente ou vazio</p></li>
</ul>
</li>
</ol>
</section>
<section id="exemplo-pratico-sistema-de-cadastro-de-usuario">
<h5>Exemplo Prático: Sistema de Cadastro de Usuário<a class="headerlink" href="#exemplo-pratico-sistema-de-cadastro-de-usuario" title="Link to this heading">#</a></h5>
<p>Considere um sistema de cadastro com os seguintes requisitos:</p>
<ul class="simple">
<li><p><strong>Idade</strong>: Entre 16 e 120 anos</p></li>
<li><p><strong>Estado Civil</strong>: Solteiro, Casado, Divorciado, Viúvo</p></li>
<li><p><strong>Email</strong>: Obrigatório e deve seguir formato válido</p></li>
<li><p><strong>Renda</strong>: Opcional, se informada deve ser ≥ 0</p></li>
</ul>
<p><strong>Particionamento:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Campo</p></th>
<th class="head"><p>Classes Válidas</p></th>
<th class="head"><p>Classes Inválidas</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Idade</p></td>
<td><p>[16, 120]</p></td>
<td><p>[&lt; 16], [&gt; 120]</p></td>
</tr>
<tr class="row-odd"><td><p>Estado Civil</p></td>
<td><p>{Solteiro, Casado, Divorciado, Viúvo}</p></td>
<td><p>{Outros valores}</p></td>
</tr>
<tr class="row-even"><td><p>Email</p></td>
<td><p>{Formato válido}</p></td>
<td><p>{Formato inválido}, {Vazio}</p></td>
</tr>
<tr class="row-odd"><td><p>Renda</p></td>
<td><p>[≥ 0], {Não informado}</p></td>
<td><p>[&lt; 0]</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="modelagem-matematica">
<h4>Modelagem Matemática<a class="headerlink" href="#modelagem-matematica" title="Link to this heading">#</a></h4>
<p>A eficiência do particionamento pode ser quantificada pela <strong>taxa de redução de casos de teste</strong>:</p>
<div class="math notranslate nohighlight">
\[\text{Taxa de Redução} = 1 - \frac{|C|}{|D|}\]</div>
<p>Onde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(|C|\)</span> = número de casos de teste gerados pelas classes de equivalência</p></li>
<li><p><span class="math notranslate nohighlight">\(|D|\)</span> = tamanho do domínio total de entrada</p></li>
</ul>
<p>Para um domínio com <span class="math notranslate nohighlight">\(n\)</span> variáveis independentes, onde cada variável <span class="math notranslate nohighlight">\(i\)</span> possui <span class="math notranslate nohighlight">\(p_i\)</span> partições, o número total de casos de teste usando particionamento básico é:</p>
<div class="math notranslate nohighlight">
\[\text{Casos de Teste} = \sum_{i=1}^{n} p_i\]</div>
<p>Enquanto o teste exaustivo exigiria:</p>
<div class="math notranslate nohighlight">
\[\text{Teste Exaustivo} = \prod_{i=1}^{n} |D_i|\]</div>
</section>
<section id="analise-de-consequencias-e-trade-offs">
<h4>Análise de Consequências e Trade-offs<a class="headerlink" href="#analise-de-consequencias-e-trade-offs" title="Link to this heading">#</a></h4>
<p><strong>Vantagens:</strong></p>
<ul class="simple">
<li><p><strong>Redução Drástica</strong>: Pode reduzir o número de testes de milhares para dezenas</p></li>
<li><p><strong>Cobertura Sistemática</strong>: Garante que todos os tipos de entrada foram considerados</p></li>
<li><p><strong>Eficiência de Execução</strong>: Menor tempo de execução dos testes</p></li>
<li><p><strong>Detecção de Requisitos Ambíguos</strong>: Força a clarificação de especificações vagas</p></li>
</ul>
<p><strong>Limitações:</strong></p>
<ul class="simple">
<li><p><strong>Pressuposto de Equivalência</strong>: A técnica assume que todos os valores numa classe realmente são equivalentes</p></li>
<li><p><strong>Não Detecta Problemas de Fronteira</strong>: Pode perder defeitos que ocorrem especificamente nos limites</p></li>
<li><p><strong>Dependência da Especificação</strong>: Qualidade limitada pela precisão dos requisitos</p></li>
<li><p><strong>Interação Entre Variáveis</strong>: Não considera dependências complexas entre diferentes entradas</p></li>
</ul>
<p><strong>Trade-offs Estratégicos:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Aspecto</p></th>
<th class="head"><p>Particionamento Grosso</p></th>
<th class="head"><p>Particionamento Fino</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Número de Testes</p></td>
<td><p>Menor</p></td>
<td><p>Maior</p></td>
</tr>
<tr class="row-odd"><td><p>Tempo de Execução</p></td>
<td><p>Menor</p></td>
<td><p>Maior</p></td>
</tr>
<tr class="row-even"><td><p>Cobertura</p></td>
<td><p>Básica</p></td>
<td><p>Mais Detalhada</p></td>
</tr>
<tr class="row-odd"><td><p>Manutenção</p></td>
<td><p>Mais Fácil</p></td>
<td><p>Mais Complexa</p></td>
</tr>
<tr class="row-even"><td><p>Detecção de Defeitos</p></td>
<td><p>Menor</p></td>
<td><p>Potencialmente Maior</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="analise-critica">
<h4>Análise Crítica<a class="headerlink" href="#analise-critica" title="Link to this heading">#</a></h4>
<p><strong>Limitações Fundamentais:</strong></p>
<ol class="arabic simple">
<li><p><strong>Hipótese de Uniformidade</strong>: A técnica assume que o software se comporta uniformemente dentro de cada partição, o que nem sempre é verdade em sistemas complexos.</p></li>
<li><p><strong>Problemas de Interdependência</strong>: Em sistemas reais, variáveis frequentemente interagem de formas complexas que o particionamento simples não captura.</p></li>
<li><p><strong>Evolução de Requisitos</strong>: Mudanças nos requisitos podem invalidar partições existentes, exigindo retrabalho significativo.</p></li>
</ol>
<p><strong>Perguntas Frequentes (FAQ):</strong></p>
<p><strong>Q: Como lidar com campos que têm múltiplas restrições?</strong>
A: Crie partições que considerem todas as restrições simultaneamente. Por exemplo, um campo “senha” que deve ter 8-20 caracteres e incluir pelo menos um número requer partições que considerem ambos os critérios.</p>
<p><strong>Q: Quantos valores devo testar por partição?</strong>
A: Tradicionalmente, um valor por partição é suficiente para o particionamento básico. No entanto, para sistemas críticos, considere 2-3 valores por partição válida.</p>
<p><strong>Q: O que fazer quando o domínio é infinito?</strong>
A: Use conhecimento do domínio para criar partições representativas. Por exemplo, para strings, particione por comprimento, caracteres especiais, e padrões típicos.</p>
<p><strong>Armadilhas Comuns:</strong></p>
<ol class="arabic simple">
<li><p><strong>Partições Muito Grandes</strong>: Criar partições que ainda contêm comportamentos diferentes</p></li>
<li><p><strong>Sobreposição de Partições</strong>: Permitir que um valor pertença a múltiplas partições</p></li>
<li><p><strong>Ignorar Valores Especiais</strong>: Não considerar valores como null, zero, ou strings vazias</p></li>
<li><p><strong>Particionamento Baseado em Implementação</strong>: Criar partições baseadas no código em vez dos requisitos</p></li>
</ol>
</section>
</section>
<section id="analise-do-valor-limite">
<h3>2.2. Análise do Valor Limite<a class="headerlink" href="#analise-do-valor-limite" title="Link to this heading">#</a></h3>
<section id="id1">
<h4>Terminologia Essencial e Definições Formais<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<p><strong>Análise do Valor Limite</strong> (Boundary Value Analysis - BVA) é uma técnica de teste funcional que se concentra especificamente nos valores que estão nos limites ou fronteiras das classes de equivalência. Esta técnica é baseada na observação empírica de que um número desproporcional de defeitos ocorre nos limites dos domínios de entrada, rather than no interior das partições.</p>
<p>Formalmente, dado um intervalo <span class="math notranslate nohighlight">\([a, b]\)</span>, os valores limite são: <span class="math notranslate nohighlight">\(\{a-1, a, a+1, b-1, b, b+1\}\)</span>, onde <span class="math notranslate nohighlight">\(a\)</span> e <span class="math notranslate nohighlight">\(b\)</span> são os limites inferior e superior do domínio válido, respectivamente.</p>
<p><strong>Analogia para Entender</strong></p>
<blockquote>
<div><p>Pense na análise do valor limite como um inspetor de qualidade verificando a resistência de uma ponte. Ele não testa apenas cargas no meio da faixa permitida (que provavelmente funcionarão bem), mas foca nos limites máximos e mínimos de peso suportado. É exatamente nos extremos que as estruturas tendem a falhar. No software, os algoritmos frequentemente contêm erros de lógica como “menor que” versus “menor ou igual que”, que só aparecem nos valores limítrofes.</p>
</div></blockquote>
</section>
<section id="id2">
<h4>Estrutura Conceitual<a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<section id="principio-da-concentracao-de-defeitos-em-fronteiras">
<h5>Princípio da Concentração de Defeitos em Fronteiras<a class="headerlink" href="#principio-da-concentracao-de-defeitos-em-fronteiras" title="Link to this heading">#</a></h5>
<p>A eficácia da análise do valor limite baseia-se em evidências empíricas coletadas ao longo de décadas de desenvolvimento de software. Estudos mostram que aproximadamente 16% de todos os defeitos de software ocorrem nos valores limite, apesar destes representarem uma fração mínima do domínio total de entrada.</p>
<pre  class="mermaid">
        graph LR
    A[Domínio de Entrada] --&gt; B[Interior da Partição&lt;br/&gt;~84% dos valores&lt;br/&gt;~16% dos defeitos]
    A --&gt; C[Valores Limite&lt;br/&gt;~1% dos valores&lt;br/&gt;~84% dos defeitos]
    
    style C fill:#ff9999
    style B fill:#99ff99
    </pre></section>
<section id="estrategias-de-selecao-de-valores-limite">
<h5>Estratégias de Seleção de Valores Limite<a class="headerlink" href="#estrategias-de-selecao-de-valores-limite" title="Link to this heading">#</a></h5>
<p><strong>1. Limite Simples (Basic Boundary Value Testing)</strong>
Para um campo com domínio <span class="math notranslate nohighlight">\([min, max]\)</span>:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(min - 1\)</span> (valor inválido abaixo do limite)</p></li>
<li><p><span class="math notranslate nohighlight">\(min\)</span> (valor válido no limite inferior)</p></li>
<li><p><span class="math notranslate nohighlight">\(min + 1\)</span> (valor válido logo acima do limite inferior)</p></li>
<li><p><span class="math notranslate nohighlight">\(max - 1\)</span> (valor válido logo abaixo do limite superior)</p></li>
<li><p><span class="math notranslate nohighlight">\(max\)</span> (valor válido no limite superior)</p></li>
<li><p><span class="math notranslate nohighlight">\(max + 1\)</span> (valor inválido acima do limite)</p></li>
</ul>
<p><strong>2. Limite Robusto (Robust Boundary Value Testing)</strong>
Inclui múltiplos valores inválidos:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(min - 2, min - 1\)</span> (múltiplos valores abaixo)</p></li>
<li><p><span class="math notranslate nohighlight">\(max + 1, max + 2\)</span> (múltiplos valores acima)</p></li>
</ul>
<p><strong>3. Limite para Variáveis Múltiplas</strong>
Para sistemas com <span class="math notranslate nohighlight">\(n\)</span> variáveis, mantém <span class="math notranslate nohighlight">\(n-1\)</span> variáveis em valores nominais e varia uma por vez através de seus valores limite.</p>
</section>
<section id="exemplo-detalhado-sistema-de-reserva-de-passagens">
<h5>Exemplo Detalhado: Sistema de Reserva de Passagens<a class="headerlink" href="#exemplo-detalhado-sistema-de-reserva-de-passagens" title="Link to this heading">#</a></h5>
<p>Considere um sistema de reserva com as seguintes restrições:</p>
<ul class="simple">
<li><p><strong>Idade do passageiro</strong>: 0-120 anos</p></li>
<li><p><strong>Número de passageiros</strong>: 1-9 por reserva</p></li>
<li><p><strong>Dias de antecedência</strong>: 1-365 dias</p></li>
</ul>
<p><strong>Aplicação da Análise do Valor Limite:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Campo</p></th>
<th class="head"><p>Valores Limite</p></th>
<th class="head"><p>Categoria</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Idade</p></td>
<td><p>-1, 0, 1, 119, 120, 121</p></td>
<td><p>Básico</p></td>
</tr>
<tr class="row-odd"><td><p>Passageiros</p></td>
<td><p>0, 1, 2, 8, 9, 10</p></td>
<td><p>Básico</p></td>
</tr>
<tr class="row-even"><td><p>Antecedência</p></td>
<td><p>0, 1, 2, 364, 365, 366</p></td>
<td><p>Básico</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="id3">
<h4>Modelagem Matemática<a class="headerlink" href="#id3" title="Link to this heading">#</a></h4>
<p>A probabilidade de detecção de defeitos usando análise do valor limite pode ser modelada usando a <strong>distribuição de defeitos empírica</strong>:</p>
<div class="math notranslate nohighlight">
\[P(\text{detecção}) = P_{\text{fronteira}} \times \text{densidade}_{\text{fronteira}} + P_{\text{interior}} \times \text{densidade}_{\text{interior}}\]</div>
<p>Onde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P_{\text{fronteira}} \approx 0.16\)</span> (probabilidade de defeito estar na fronteira)</p></li>
<li><p><span class="math notranslate nohighlight">\(P_{\text{interior}} \approx 0.84\)</span> (probabilidade de defeito estar no interior)</p></li>
<li><p><span class="math notranslate nohighlight">\(\text{densidade}_{\text{fronteira}}\)</span> = fração de testes executados na fronteira</p></li>
<li><p><span class="math notranslate nohighlight">\(\text{densidade}_{\text{interior}}\)</span> = fração de testes executados no interior</p></li>
</ul>
<p>Para um domínio de tamanho <span class="math notranslate nohighlight">\(D\)</span> com <span class="math notranslate nohighlight">\(b\)</span> valores limite testados, a eficiência relativa é:</p>
<div class="math notranslate nohighlight">
\[\text{Eficiência BVA} = \frac{P_{\text{detecção BVA}}}{P_{\text{detecção aleatória}}} = \frac{0.16 \times \frac{b}{D} + 0.84 \times \frac{D-b}{D}}{\frac{1}{D}}\]</div>
<p>Esta fórmula demonstra matematicamente por que a análise do valor limite é mais eficiente que testes aleatórios.</p>
</section>
<section id="id4">
<h4>Análise de Consequências e Trade-offs<a class="headerlink" href="#id4" title="Link to this heading">#</a></h4>
<p><strong>Vantagens:</strong></p>
<ul class="simple">
<li><p><strong>Alta Taxa de Detecção</strong>: Encontra proporcionalmente mais defeitos por teste executado</p></li>
<li><p><strong>Eficiência Econômica</strong>: Pequeno número de testes com grande impacto</p></li>
<li><p><strong>Simplicidade de Aplicação</strong>: Técnica direta e fácil de implementar</p></li>
<li><p><strong>Compatibilidade</strong>: Combina perfeitamente com particionamento de equivalência</p></li>
</ul>
<p><strong>Limitações:</strong></p>
<ul class="simple">
<li><p><strong>Escopo Limitado</strong>: Apenas detecta defeitos relacionados a condições de fronteira</p></li>
<li><p><strong>Pressuposto de Linearidade</strong>: Assume que os problemas estão nos limites óbvios</p></li>
<li><p><strong>Não Considera Interações</strong>: Limites de uma variável podem afetar outros parâmetros</p></li>
<li><p><strong>Dependência da Especificação</strong>: Limites devem estar claramente definidos</p></li>
</ul>
<p><strong>Comparação de Estratégias:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Estratégia</p></th>
<th class="head"><p>Casos de Teste</p></th>
<th class="head"><p>Cobertura de Defeitos</p></th>
<th class="head"><p>Complexidade</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Valor Limite Básico</p></td>
<td><p><span class="math notranslate nohighlight">\(6n\)</span></p></td>
<td><p>~65% dos defeitos de fronteira</p></td>
<td><p>Baixa</p></td>
</tr>
<tr class="row-odd"><td><p>Valor Limite Robusto</p></td>
<td><p><span class="math notranslate nohighlight">\(8n\)</span></p></td>
<td><p>~80% dos defeitos de fronteira</p></td>
<td><p>Média</p></td>
</tr>
<tr class="row-even"><td><p>Worst-Case Boundary</p></td>
<td><p><span class="math notranslate nohighlight">\(6^n\)</span></p></td>
<td><p>~95% dos defeitos de fronteira</p></td>
<td><p>Exponencial</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id5">
<h4>Análise Crítica<a class="headerlink" href="#id5" title="Link to this heading">#</a></h4>
<p><strong>Problemas Fundamentais:</strong></p>
<ol class="arabic simple">
<li><p><strong>Fronteiras Ocultas</strong>: Nem todos os limites são óbvios na especificação. Sistemas podem ter limites internos (buffers, memória) não documentados.</p></li>
<li><p><strong>Dependência de Contexto</strong>: O que constitui um “valor limite” pode variar dependendo do estado do sistema.</p></li>
<li><p><strong>Complexidade de Domínios</strong>: Em domínios não-numéricos (strings, objetos), determinar “fronteiras” pode ser ambíguo.</p></li>
</ol>
<p><strong>Perguntas Frequentes (FAQ):</strong></p>
<p><strong>Q: Como aplicar valor limite a campos não-numéricos?</strong>
A: Para strings, considere comprimentos limite (vazio, 1 caractere, máximo permitido). Para enumerações, teste o primeiro e último valores da lista.</p>
<p><strong>Q: E se o sistema tiver limites dinâmicos?</strong>
A: Identifique todos os possíveis valores de limite e teste cada configuração. Por exemplo, se o limite de saque varia por tipo de conta, teste cada combinação.</p>
<p><strong>Q: Valor limite se aplica a saídas também?</strong>
A: Sim! Teste se o sistema produz saídas corretas nos limites dos domínios de saída esperados.</p>
<p><strong>Anti-Padrões Comuns:</strong></p>
<ol class="arabic simple">
<li><p><strong>Limite Único</strong>: Testar apenas um lado da fronteira</p></li>
<li><p><strong>Ignorar Limites Implícitos</strong>: Não considerar limitações de sistema (overflow, underflow)</p></li>
<li><p><strong>Fronteiras Hardcoded</strong>: Assumir que limites nunca mudam</p></li>
<li><p><strong>Misturar com Particionamento</strong>: Não distinguir claramente entre as duas técnicas</p></li>
</ol>
</section>
</section>
<section id="tabelas-de-decisao">
<h3>2.3. Tabelas de Decisão<a class="headerlink" href="#tabelas-de-decisao" title="Link to this heading">#</a></h3>
<section id="id6">
<h4>Terminologia Essencial e Definições Formais<a class="headerlink" href="#id6" title="Link to this heading">#</a></h4>
<p><strong>Tabelas de Decisão</strong> são estruturas matriciais que organizam de forma sistemática as <strong>condições</strong> (critérios de entrada) e <strong>ações</strong> (comportamentos do sistema) em um formato tabular, permitindo representar e validar regras de negócio complexas que envolvem múltiplas condições interdependentes.</p>
<p>Formalmente, uma Tabela de Decisão <span class="math notranslate nohighlight">\(T\)</span> é definida como uma tupla <span class="math notranslate nohighlight">\(T = (C, A, R)\)</span> onde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(C = \{c_1, c_2, ..., c_n\}\)</span> é o conjunto de condições (predicados booleanos)</p></li>
<li><p><span class="math notranslate nohighlight">\(A = \{a_1, a_2, ..., a_m\}\)</span> é o conjunto de ações possíveis</p></li>
<li><p><span class="math notranslate nohighlight">\(R = \{r_1, r_2, ..., r_k\}\)</span> é o conjunto de regras, onde cada regra <span class="math notranslate nohighlight">\(r_i\)</span> especifica uma combinação de valores para todas as condições e as ações correspondentes</p></li>
</ul>
<p><strong>Analogia para Entender</strong></p>
<blockquote>
<div><p>Uma tabela de decisão funciona como um manual de procedimentos de emergência em um hospital. Para cada combinação de sintomas (condições) que um paciente pode apresentar - febre alta (sim/não), dor no peito (sim/não), dificuldade respiratória (sim/não) - existe um protocolo específico de ações a serem tomadas. O médico consulta a tabela, identifica a combinação de sintomas e segue exatamente o procedimento definido. A tabela garante que todas as combinações possíveis foram consideradas e que há uma resposta clara para cada situação.</p>
</div></blockquote>
</section>
<section id="id7">
<h4>Estrutura Conceitual<a class="headerlink" href="#id7" title="Link to this heading">#</a></h4>
<section id="componentes-fundamentais-de-uma-tabela-de-decisao">
<h5>Componentes Fundamentais de uma Tabela de Decisão<a class="headerlink" href="#componentes-fundamentais-de-uma-tabela-de-decisao" title="Link to this heading">#</a></h5>
<p><strong>1. Seção de Condições (Condition Stubs)</strong>
Lista todas as condições que influenciam o comportamento do sistema. Cada condição deve ser um predicado binário (Verdadeiro/Falso) ou pode ser expandida para valores discretos.</p>
<p><strong>2. Seção de Ações (Action Stubs)</strong>
Lista todas as ações que o sistema pode executar baseadas nas combinações de condições.</p>
<p><strong>3. Seção de Regras (Rules)</strong>
Cada coluna representa uma regra específica, mostrando:</p>
<ul class="simple">
<li><p>Os valores das condições para esta regra (V/F, S/N, ou valores específicos)</p></li>
<li><p>As ações que devem ser executadas (marcadas com X ou ✓)</p></li>
</ul>
<p><strong>4. Estrutura Visual Padrão:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>┌─────────────────────┬──────┬──────┬──────┬──────┬─────┐
│     Condições       │ R1   │ R2   │ R3   │ R4   │ ... │
├─────────────────────┼──────┼──────┼──────┼──────┼─────┤
│ Condição A          │  V   │  V   │  F   │  F   │     │
│ Condição B          │  V   │  F   │  V   │  F   │     │
│ Condição C          │  V   │  V   │  F   │  V   │     │
├─────────────────────┼──────┼──────┼──────┼──────┼─────┤
│ Ação X              │  X   │      │  X   │      │     │
│ Ação Y              │      │  X   │      │  X   │     │
│ Ação Z              │      │      │      │  X   │     │
└─────────────────────┴──────┴──────┴──────┴──────┴─────┘
</pre></div>
</div>
</section>
<section id="processo-de-construcao-de-tabelas-de-decisao">
<h5>Processo de Construção de Tabelas de Decisão<a class="headerlink" href="#processo-de-construcao-de-tabelas-de-decisao" title="Link to this heading">#</a></h5>
<pre  class="mermaid">
        graph TD
    A[Identificar Problema/Processo] --&gt; B[Listar Todas as Condições Relevantes]
    B --&gt; C[Listar Todas as Ações Possíveis]
    C --&gt; D[Calcular Número de Combinações&lt;br/&gt;2^n para n condições binárias]
    D --&gt; E[Criar Colunas para Cada Combinação]
    E --&gt; F[Preencher Valores das Condições]
    F --&gt; G[Determinar Ações para Cada Regra]
    G --&gt; H[Verificar Completude e Consistência]
    H --&gt; I[Simplificar/Consolidar Regras]
    I --&gt; J[Validar com Stakeholders]
    J --&gt; K[Derivar Casos de Teste]
    </pre></section>
<section id="exemplo-detalhado-sistema-de-aprovacao-de-credito">
<h5>Exemplo Detalhado: Sistema de Aprovação de Crédito<a class="headerlink" href="#exemplo-detalhado-sistema-de-aprovacao-de-credito" title="Link to this heading">#</a></h5>
<p><strong>Contexto</strong>: Um banco digital precisa automatizar decisões de concessão de crédito baseada em múltiplos critérios.</p>
<p><strong>Condições Identificadas:</strong></p>
<ul class="simple">
<li><p>C1: Renda mensal ≥ R$ 3.000</p></li>
<li><p>C2: Idade entre 21 e 65 anos</p></li>
<li><p>C3: Score de crédito ≥ 600</p></li>
<li><p>C4: Conta corrente há mais de 6 meses</p></li>
</ul>
<p><strong>Ações Possíveis:</strong></p>
<ul class="simple">
<li><p>A1: Aprovar crédito com limite padrão</p></li>
<li><p>A2: Aprovar crédito com limite reduzido</p></li>
<li><p>A3: Aprovar crédito com taxa majorada</p></li>
<li><p>A4: Negar crédito</p></li>
<li><p>A5: Solicitar análise manual</p></li>
</ul>
<p><strong>Tabela de Decisão Resultante:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Condições/Regras</p></th>
<th class="head"><p>R1</p></th>
<th class="head"><p>R2</p></th>
<th class="head"><p>R3</p></th>
<th class="head"><p>R4</p></th>
<th class="head"><p>R5</p></th>
<th class="head"><p>R6</p></th>
<th class="head"><p>R7</p></th>
<th class="head"><p>R8</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Renda ≥ R$ 3.000</strong></p></td>
<td><p>V</p></td>
<td><p>V</p></td>
<td><p>V</p></td>
<td><p>V</p></td>
<td><p>F</p></td>
<td><p>F</p></td>
<td><p>F</p></td>
<td><p>F</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Idade 21-65</strong></p></td>
<td><p>V</p></td>
<td><p>V</p></td>
<td><p>F</p></td>
<td><p>F</p></td>
<td><p>V</p></td>
<td><p>V</p></td>
<td><p>F</p></td>
<td><p>F</p></td>
</tr>
<tr class="row-even"><td><p><strong>Score ≥ 600</strong></p></td>
<td><p>V</p></td>
<td><p>F</p></td>
<td><p>V</p></td>
<td><p>F</p></td>
<td><p>V</p></td>
<td><p>F</p></td>
<td><p>V</p></td>
<td><p>F</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Conta ≥ 6 meses</strong></p></td>
<td><p>V</p></td>
<td><p>V</p></td>
<td><p>V</p></td>
<td><p>V</p></td>
<td><p>F</p></td>
<td><p>F</p></td>
<td><p>F</p></td>
<td><p>F</p></td>
</tr>
<tr class="row-even"><td><p><strong>A1: Limite Padrão</strong></p></td>
<td><p>X</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><strong>A2: Limite Reduzido</strong></p></td>
<td><p></p></td>
<td><p>X</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>X</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><strong>A3: Taxa Majorada</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>X</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><strong>A4: Negar</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>X</p></td>
<td><p></p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p><strong>A5: Análise Manual</strong></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="id8">
<h4>Modelagem Matemática<a class="headerlink" href="#id8" title="Link to this heading">#</a></h4>
<p>A eficácia das tabelas de decisão pode ser medida por:</p>
<ol class="arabic simple">
<li><p><strong>Cobertura de Regras</strong>:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[\text{Cobertura de Regras} = \frac{\text{Regras Testadas}}{|\text{Regras Totais}|} \times 100\%\]</div>
<ol class="arabic simple" start="2">
<li><p><strong>Densidade de Ação</strong>:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[\text{Densidade de Ação} = \frac{1}{|\text{Regras}|} \sum_{i=1}^{|\text{Regras}|} \frac{\text{Ações em }r_i}{|\text{Ações}|}\]</div>
<ol class="arabic simple" start="3">
<li><p><strong>Complexidade Ciclomática</strong>:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[\text{CC} = |\text{Regras}| - |\text{Condições}| + 2\]</div>
</section>
<section id="id9">
<h4>Análise de Consequências e Trade-offs<a class="headerlink" href="#id9" title="Link to this heading">#</a></h4>
<p><strong>Vantagens:</strong></p>
<ul class="simple">
<li><p><strong>Completude Sistemática</strong>: Força a consideração de todas as combinações possíveis</p></li>
<li><p><strong>Detecção de Inconsistências</strong>: Revela regras conflitantes ou ausentes</p></li>
<li><p><strong>Comunicação Clara</strong>: Formato visual fácil de entender por stakeholders não-técnicos</p></li>
<li><p><strong>Rastreabilidade</strong>: Conexão direta entre requisitos e casos de teste</p></li>
<li><p><strong>Manutenibilidade</strong>: Mudanças de regras são facilmente visualizadas e atualizadas</p></li>
</ul>
<p><strong>Limitações:</strong></p>
<ul class="simple">
<li><p><strong>Explosão Combinatorial</strong>: Crescimento exponencial com o número de condições</p></li>
<li><p><strong>Condições Não-Binárias</strong>: Dificuldade com condições que têm múltiplos valores</p></li>
<li><p><strong>Dependências Temporais</strong>: Não modela bem sequências ou estados</p></li>
<li><p><strong>Condições Contínuas</strong>: Inadequada para variáveis com domínios infinitos</p></li>
</ul>
<p><strong>Estratégias de Otimização:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Problema</p></th>
<th class="head"><p>Solução</p></th>
<th class="head"><p>Trade-off</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Muitas Condições</p></td>
<td><p>Agrupar condições relacionadas</p></td>
<td><p>Menos granularidade</p></td>
</tr>
<tr class="row-odd"><td><p>Regras Similares</p></td>
<td><p>Consolidar com wildcards (*)</p></td>
<td><p>Menos precisão</p></td>
</tr>
<tr class="row-even"><td><p>Condições Dependentes</p></td>
<td><p>Eliminar combinações impossíveis</p></td>
<td><p>Validação adicional necessária</p></td>
</tr>
<tr class="row-odd"><td><p>Valores Múltiplos</p></td>
<td><p>Usar tabelas estendidas ou múltiplas tabelas</p></td>
<td><p>Complexidade de manutenção</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id10">
<h4>Análise Crítica<a class="headerlink" href="#id10" title="Link to this heading">#</a></h4>
<p><strong>Limitações Fundamentais:</strong></p>
<ol class="arabic simple">
<li><p><strong>Pressuposto de Independência</strong>: A técnica assume que as condições são independentes, o que frequentemente não é verdade em sistemas reais.</p></li>
<li><p><strong>Granularidade Fixa</strong>: Uma vez definido o nível de abstração das condições, é difícil mudá-lo sem reconstruir toda a tabela.</p></li>
<li><p><strong>Não Captura Aspectos Temporais</strong>: Tabelas de decisão são estáticas e não modelam bem comportamentos que dependem de sequência ou tempo.</p></li>
</ol>
<p><strong>Perguntas Frequentes (FAQ):</strong></p>
<p><strong>Q: Como lidar com condições que têm mais de dois valores?</strong>
A: Use tabelas estendidas onde cada condição pode ter valores como {Baixo, Médio, Alto} em vez de apenas {V, F}, ou decomponha em múltiplas condições binárias.</p>
<p><strong>Q: E se nem todas as combinações são possíveis no mundo real?</strong>
A: Identifique e marque combinações impossíveis como “N/A” ou “-”. Isso reduz o número de casos de teste necessários.</p>
<p><strong>Q: Como testar a própria tabela de decisão?</strong>
A: Derive pelo menos um caso de teste para cada regra. Para regras críticas, considere múltiplos casos de teste.</p>
<p><strong>Armadilhas Comuns:</strong></p>
<ol class="arabic simple">
<li><p><strong>Condições Vagas</strong>: Usar condições que não são claramente verificáveis</p></li>
<li><p><strong>Ações Ambíguas</strong>: Definir ações que podem ser interpretadas de múltiplas formas</p></li>
<li><p><strong>Falta de Priorização</strong>: Não considerar precedência quando múltiplas ações são aplicáveis</p></li>
<li><p><strong>Não Validar Completude</strong>: Esquecer de verificar se todas as combinações relevantes foram cobertas</p></li>
</ol>
</section>
</section>
<section id="maquinas-de-estado">
<h3>2.4. Máquinas de Estado<a class="headerlink" href="#maquinas-de-estado" title="Link to this heading">#</a></h3>
<section id="id11">
<h4>Terminologia Essencial e Definições Formais<a class="headerlink" href="#id11" title="Link to this heading">#</a></h4>
<p><strong>Máquinas de Estado</strong> (também conhecidas como Autômatos Finitos ou State Machines) são modelos matemáticos que descrevem o comportamento de um sistema através de um conjunto finito de <strong>estados</strong> e <strong>transições</strong> entre esses estados, baseadas em <strong>eventos</strong> ou <strong>condições</strong> específicas. No contexto de teste de software, as máquinas de estado permitem modelar o comportamento dinâmico de sistemas e derivar casos de teste que validam tanto estados válidos quanto transições corretas.</p>
<p>Formalmente, uma máquina de estado <span class="math notranslate nohighlight">\(M\)</span> é definida como uma quintupla <span class="math notranslate nohighlight">\(M = (S, \Sigma, \delta, s_0, F)\)</span> onde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(S\)</span> é o conjunto finito de estados</p></li>
<li><p><span class="math notranslate nohighlight">\(\Sigma\)</span> é o alfabeto de entrada (eventos/condições)</p></li>
<li><p><span class="math notranslate nohighlight">\(\delta: S \times \Sigma \rightarrow S\)</span> é a função de transição</p></li>
<li><p><span class="math notranslate nohighlight">\(s_0 \in S\)</span> é o estado inicial</p></li>
<li><p><span class="math notranslate nohighlight">\(F \subseteq S\)</span> é o conjunto de estados finais/de aceitação</p></li>
</ul>
<p><strong>Analogia para Entender</strong></p>
<blockquote>
<div><p>Uma máquina de estado funciona como o sistema de semáforos em um cruzamento. O semáforo tem estados bem definidos (Verde, Amarelo, Vermelho) e transições específicas entre eles (Verde→Amarelo após 30s, Amarelo→Vermelho após 5s, Vermelho→Verde após 25s). O sistema nunca vai diretamente de Verde para Vermelho, e cada transição tem uma condição clara. Máquinas de estado de software funcionam da mesma forma: estados representam condições do sistema, e transições são mudanças controladas baseadas em eventos específicos.</p>
</div></blockquote>
</section>
<section id="id12">
<h4>Estrutura Conceitual<a class="headerlink" href="#id12" title="Link to this heading">#</a></h4>
<section id="componentes-fundamentais">
<h5>Componentes Fundamentais<a class="headerlink" href="#componentes-fundamentais" title="Link to this heading">#</a></h5>
<p><strong>1. Estados (States)</strong>
Representam as diferentes condições ou situações em que o sistema pode se encontrar. Cada estado define:</p>
<ul class="simple">
<li><p>Um conjunto de propriedades válidas</p></li>
<li><p>Comportamentos permitidos no estado</p></li>
<li><p>Invariantes que devem ser mantidas</p></li>
</ul>
<p><strong>2. Transições (Transitions)</strong>
Representam mudanças de um estado para outro. Cada transição é caracterizada por:</p>
<ul class="simple">
<li><p><strong>Estado origem</strong> e <strong>estado destino</strong></p></li>
<li><p><strong>Evento gatilho</strong> que causa a transição</p></li>
<li><p><strong>Condições de guarda</strong> (opcional) que devem ser verdadeiras</p></li>
<li><p><strong>Ações</strong> executadas durante a transição</p></li>
</ul>
<p><strong>3. Eventos (Events)</strong>
Estímulos externos ou internos que podem causar transições:</p>
<ul class="simple">
<li><p>Entrada do usuário</p></li>
<li><p>Chegada de dados</p></li>
<li><p>Timeouts/temporizadores</p></li>
<li><p>Condições internas do sistema</p></li>
</ul>
</section>
<section id="representacao-visual">
<h5>Representação Visual<a class="headerlink" href="#representacao-visual" title="Link to this heading">#</a></h5>
<pre  class="mermaid">
        stateDiagram-v2
    [*] --&gt; Inativo : Sistema Inicializado
    
    Inativo --&gt; Autenticando : login_iniciado
    Autenticando --&gt; Ativo : credenciais_válidas
    Autenticando --&gt; Bloqueado : 3_tentativas_falharam
    Autenticando --&gt; Inativo : cancelar_login
    
    Ativo --&gt; Inativo : logout
    Ativo --&gt; Bloqueado : atividade_suspeita
    
    Bloqueado --&gt; Inativo : timeout_15min
    Bloqueado --&gt; Inativo : admin_desbloqueou
    
    Ativo --&gt; Ativo : operação_válida
    </pre></section>
<section id="exemplo-detalhado-sistema-de-autenticacao-bancaria">
<h5>Exemplo Detalhado: Sistema de Autenticação Bancária<a class="headerlink" href="#exemplo-detalhado-sistema-de-autenticacao-bancaria" title="Link to this heading">#</a></h5>
<p><strong>Contexto</strong>: Modelar o comportamento de um sistema de autenticação que deve gerenciar login, tentativas de falhas, bloqueios e timeouts.</p>
<p><strong>Estados Identificados:</strong></p>
<ol class="arabic simple">
<li><p><strong>Deslogado</strong>: Estado inicial, usuário não autenticado</p></li>
<li><p><strong>Digitando Credenciais</strong>: Usuário inserindo login/senha</p></li>
<li><p><strong>Validando</strong>: Sistema verificando credenciais no backend</p></li>
<li><p><strong>Logado</strong>: Usuário autenticado com sucesso</p></li>
<li><p><strong>Bloqueado Temporariamente</strong>: Após 3 tentativas falhadas</p></li>
<li><p><strong>Bloqueado Permanentemente</strong>: Após múltiplos bloqueios temporários</p></li>
</ol>
<p><strong>Tabela de Transições:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Estado Origem</p></th>
<th class="head"><p>Evento</p></th>
<th class="head"><p>Condição</p></th>
<th class="head"><p>Estado Destino</p></th>
<th class="head"><p>Ação</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Deslogado</p></td>
<td><p>iniciar_login</p></td>
<td><p>-</p></td>
<td><p>Digitando Credenciais</p></td>
<td><p>limpar_contador_tentativas</p></td>
</tr>
<tr class="row-odd"><td><p>Digitando Credenciais</p></td>
<td><p>submeter_dados</p></td>
<td><p>dados_válidos</p></td>
<td><p>Validando</p></td>
<td><p>iniciar_validação</p></td>
</tr>
<tr class="row-even"><td><p>Digitando Credenciais</p></td>
<td><p>cancelar</p></td>
<td><p>-</p></td>
<td><p>Deslogado</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>Validando</p></td>
<td><p>credenciais_corretas</p></td>
<td><p>-</p></td>
<td><p>Logado</p></td>
<td><p>registrar_login_sucesso</p></td>
</tr>
<tr class="row-even"><td><p>Validando</p></td>
<td><p>credenciais_incorretas</p></td>
<td><p>tentativas &lt; 3</p></td>
<td><p>Digitando Credenciais</p></td>
<td><p>incrementar_contador</p></td>
</tr>
<tr class="row-odd"><td><p>Validando</p></td>
<td><p>credenciais_incorretas</p></td>
<td><p>tentativas = 3</p></td>
<td><p>Bloqueado Temporariamente</p></td>
<td><p>registrar_bloqueio</p></td>
</tr>
<tr class="row-even"><td><p>Logado</p></td>
<td><p>logout</p></td>
<td><p>-</p></td>
<td><p>Deslogado</p></td>
<td><p>limpar_sessão</p></td>
</tr>
<tr class="row-odd"><td><p>Logado</p></td>
<td><p>timeout_sessão</p></td>
<td><p>-</p></td>
<td><p>Deslogado</p></td>
<td><p>limpar_sessão</p></td>
</tr>
<tr class="row-even"><td><p>Bloqueado Temporariamente</p></td>
<td><p>timeout_15min</p></td>
<td><p>-</p></td>
<td><p>Deslogado</p></td>
<td><p>resetar_contador</p></td>
</tr>
<tr class="row-odd"><td><p>Bloqueado Temporariamente</p></td>
<td><p>admin_desbloqueou</p></td>
<td><p>-</p></td>
<td><p>Deslogado</p></td>
<td><p>resetar_contador</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="id13">
<h4>Modelagem Matemática<a class="headerlink" href="#id13" title="Link to this heading">#</a></h4>
<p><strong>Cobertura de Estados</strong>: A cobertura mínima exige visitar todos os estados:</p>
<div class="math notranslate nohighlight">
\[\text{Cobertura de Estados} = \frac{\text{Estados Visitados}}{|S|} \times 100\%\]</div>
<p><strong>Cobertura de Transições</strong>: Mais rigorosa, exige exercitar todas as transições:</p>
<div class="math notranslate nohighlight">
\[\text{Cobertura de Transições} = \frac{\text{Transições Exercitadas}}{|\delta|} \times 100\%\]</div>
<p><strong>Complexidade Ciclomática</strong> para máquinas de estado:</p>
<div class="math notranslate nohighlight">
\[\text{CC} = |\delta| - |S| + 2\]</div>
<p>Onde <span class="math notranslate nohighlight">\(|\delta|\)</span> é o número de transições distintas.</p>
<p><strong>Caminhos de Teste</strong>: Para uma máquina com ciclos, o número de caminhos únicos pode ser infinito. O número de caminhos fundamentais (base) é:</p>
<div class="math notranslate nohighlight">
\[\text{Caminhos Base} = |\delta| - |S| + 1\]</div>
</section>
<section id="id14">
<h4>Análise de Consequências e Trade-offs<a class="headerlink" href="#id14" title="Link to this heading">#</a></h4>
<p><strong>Vantagens:</strong></p>
<ul class="simple">
<li><p><strong>Modelagem Precisa</strong>: Captura comportamento dinâmico complexo</p></li>
<li><p><strong>Validação de Estados</strong>: Garante que o sistema nunca atinge estados inválidos</p></li>
<li><p><strong>Testes de Sequência</strong>: Permite testar fluxos completos de interação</p></li>
<li><p><strong>Detecção de Estados Mortos</strong>: Identifica estados inalcançáveis ou sem saída</p></li>
<li><p><strong>Visualização Clara</strong>: Diagramas são facilmente compreendidos por stakeholders</p></li>
</ul>
<p><strong>Limitações:</strong></p>
<ul class="simple">
<li><p><strong>Explosão de Estados</strong>: Sistemas complexos podem ter milhares de estados</p></li>
<li><p><strong>Dados vs. Controle</strong>: Não modela bem manipulação de dados complexos</p></li>
<li><p><strong>Concorrência</strong>: Dificuldade em modelar sistemas paralelos</p></li>
<li><p><strong>Estados Compostos</strong>: Hierarquias de estados aumentam complexidade</p></li>
</ul>
<p><strong>Estratégias de Gerenciamento:</strong></p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Desafio</p></th>
<th class="head"><p>Abordagem</p></th>
<th class="head"><p>Benefício</p></th>
<th class="head"><p>Custo</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Muitos Estados</p></td>
<td><p>Hierarquia/Subestados</p></td>
<td><p>Organização Clara</p></td>
<td><p>Complexidade de Modelo</p></td>
</tr>
<tr class="row-odd"><td><p>Estados Similares</p></td>
<td><p>Abstração de Dados</p></td>
<td><p>Redução de Estados</p></td>
<td><p>Perda de Precisão</p></td>
</tr>
<tr class="row-even"><td><p>Máquinas Complexas</p></td>
<td><p>Decomposição Modular</p></td>
<td><p>Manutenibilidade</p></td>
<td><p>Overhead de Integração</p></td>
</tr>
<tr class="row-odd"><td><p>Validação Completa</p></td>
<td><p>Ferramentas de Model Checking</p></td>
<td><p>Verificação Formal</p></td>
<td><p>Curva de Aprendizado</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id15">
<h4>Análise Crítica<a class="headerlink" href="#id15" title="Link to this heading">#</a></h4>
<p><strong>Limitações Fundamentais:</strong></p>
<ol class="arabic simple">
<li><p><strong>Escalabilidade</strong>: O número de estados pode crescer exponencialmente com a complexidade do sistema, tornando o modelo impraticável.</p></li>
<li><p><strong>Abstração vs. Realidade</strong>: O nível de abstração necessário para manter o modelo gerenciável pode omitir detalhes importantes do comportamento real.</p></li>
<li><p><strong>Dependência de Dados</strong>: Sistemas onde o comportamento depende fortemente dos valores de dados (não apenas do estado de controle) são difíceis de modelar efetivamente.</p></li>
</ol>
<p><strong>Perguntas Frequentes (FAQ):</strong></p>
<p><strong>Q: Como decidir o nível de granularidade dos estados?</strong>
A: Comece com estados de alto nível baseados nos requisitos funcionais principais. Refine apenas se houver comportamentos significativamente diferentes que precisam ser testados.</p>
<p><strong>Q: Como testar transições inválidas?</strong>
A: Para cada estado, tente todos os eventos possíveis, incluindo aqueles que não deveriam causar transições. O sistema deve rejeitar ou ignorar eventos inválidos.</p>
<p><strong>Q: Como lidar com estados que dependem de dados?</strong>
A: Use parâmetros de estado ou considere decompor em múltiplas máquinas menores, cada uma responsável por um aspecto específico.</p>
<p><strong>Anti-Padrões Comuns:</strong></p>
<ol class="arabic simple">
<li><p><strong>Estados Baseados em Implementação</strong>: Criar estados que refletem estruturas de código em vez de comportamento do usuário</p></li>
<li><p><strong>Transições Implícitas</strong>: Não documentar todas as transições possíveis</p></li>
<li><p><strong>Estados Compostos Desnecessários</strong>: Criar hierarquias quando estados simples seriam suficientes</p></li>
<li><p><strong>Ignorar Estados de Erro</strong>: Não modelar estados de exceção e recuperação</p></li>
</ol>
</section>
</section>
<section id="testes-baseados-em-casos-de-uso">
<h3>2.5. Testes Baseados em Casos de Uso<a class="headerlink" href="#testes-baseados-em-casos-de-uso" title="Link to this heading">#</a></h3>
<section id="id16">
<h4>Terminologia Essencial e Definições Formais<a class="headerlink" href="#id16" title="Link to this heading">#</a></h4>
<p><strong>Testes Baseados em Casos de Uso</strong> são uma técnica de teste funcional que deriva cenários de teste diretamente a partir de <strong>casos de uso</strong> (use cases), que descrevem interações entre <strong>atores</strong> (usuários ou sistemas externos) e o <strong>sistema sob teste</strong> para atingir objetivos específicos. Esta abordagem garante que os testes estejam alinhados com os requisitos funcionais expressos na perspectiva do usuário.</p>
<p>Formalmente, um Caso de Uso <span class="math notranslate nohighlight">\(UC\)</span> é definido como uma tupla <span class="math notranslate nohighlight">\(UC = (A, G, P_{pre}, P_{post}, F_p, F_a, F_e)\)</span> onde:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(A\)</span> é o conjunto de atores envolvidos</p></li>
<li><p><span class="math notranslate nohighlight">\(G\)</span> é o objetivo/meta a ser alcançada</p></li>
<li><p><span class="math notranslate nohighlight">\(P_{pre}\)</span> são as pré-condições necessárias</p></li>
<li><p><span class="math notranslate nohighlight">\(P_{post}\)</span> são as pós-condições esperadas</p></li>
<li><p><span class="math notranslate nohighlight">\(F_p\)</span> é o fluxo principal (cenário de sucesso)</p></li>
<li><p><span class="math notranslate nohighlight">\(F_a\)</span> é o conjunto de fluxos alternativos</p></li>
<li><p><span class="math notranslate nohighlight">\(F_e\)</span> é o conjunto de fluxos de exceção</p></li>
</ul>
<p><strong>Analogia para Entender</strong></p>
<blockquote>
<div><p>Testes baseados em casos de uso funcionam como um roteiro de filme detalhado. Assim como um roteiro descreve exatamente como cada cena deve se desenrolar - quais personagens participam, qual o objetivo da cena, o que acontece no cenário ideal, quais variações são possíveis e como lidar com imprevistos - os casos de uso descrevem como os usuários interagem com o sistema. Os testes então verificam se o “filme” (sistema) realmente segue o “roteiro” (casos de uso) corretamente.</p>
</div></blockquote>
</section>
<section id="id17">
<h4>Estrutura Conceitual<a class="headerlink" href="#id17" title="Link to this heading">#</a></h4>
<section id="componentes-de-um-caso-de-uso-para-teste">
<h5>Componentes de um Caso de Uso para Teste<a class="headerlink" href="#componentes-de-um-caso-de-uso-para-teste" title="Link to this heading">#</a></h5>
<p><strong>1. Identificação e Contexto</strong></p>
<ul class="simple">
<li><p><strong>Nome</strong>: Identificação clara do caso de uso (ex: “Realizar Transferência Bancária”)</p></li>
<li><p><strong>Ator Primário</strong>: Quem inicia a interação (ex: Cliente do banco)</p></li>
<li><p><strong>Atores Secundários</strong>: Outros participantes (ex: Sistema de validação, Banco destinatário)</p></li>
<li><p><strong>Objetivo</strong>: Meta específica do ator (ex: Transferir dinheiro para outra conta)</p></li>
</ul>
<p><strong>2. Condições de Contorno</strong></p>
<ul class="simple">
<li><p><strong>Pré-condições</strong>: Estado do sistema antes da execução (ex: Cliente autenticado, saldo suficiente)</p></li>
<li><p><strong>Pós-condições</strong>: Estado esperado após sucesso (ex: Valor debitado, transferência registrada)</p></li>
<li><p><strong>Garantias Mínimas</strong>: O que o sistema garante mesmo em caso de falha (ex: Consistência dos dados)</p></li>
</ul>
<p><strong>3. Fluxos Comportamentais</strong></p>
<ul class="simple">
<li><p><strong>Fluxo Principal</strong>: Sequência ideal de passos para atingir o objetivo</p></li>
<li><p><strong>Fluxos Alternativos</strong>: Variações válidas do fluxo principal</p></li>
<li><p><strong>Fluxos de Exceção</strong>: Como o sistema lida com erros e condições excepcionais</p></li>
</ul>
</section>
<section id="processo-de-derivacao-de-testes">
<h5>Processo de Derivação de Testes<a class="headerlink" href="#processo-de-derivacao-de-testes" title="Link to this heading">#</a></h5>
<pre  class="mermaid">
        graph TD
    A[Caso de Uso Original] --&gt; B[Análise de Fluxos]
    B --&gt; C[Identificar Cenários de Teste]
    C --&gt; D[Fluxo Principal → Caso de Teste Básico]
    C --&gt; E[Fluxos Alternativos → Casos de Teste Alternativos]
    C --&gt; F[Fluxos de Exceção → Casos de Teste Negativos]
    D --&gt; G[Validar Pré-condições]
    E --&gt; G
    F --&gt; G
    G --&gt; H[Executar Passos do Fluxo]
    H --&gt; I[Verificar Pós-condições]
    I --&gt; J[Casos de Teste Completos]
    </pre></section>
<section id="exemplo-detalhado-sistema-de-e-commerce-finalizar-compra">
<h5>Exemplo Detalhado: Sistema de E-commerce - “Finalizar Compra”<a class="headerlink" href="#exemplo-detalhado-sistema-de-e-commerce-finalizar-compra" title="Link to this heading">#</a></h5>
<p><strong>Caso de Uso: Finalizar Compra</strong></p>
<p><strong>Identificação:</strong></p>
<ul class="simple">
<li><p><strong>Ator Primário</strong>: Cliente</p></li>
<li><p><strong>Atores Secundários</strong>: Sistema de Pagamento, Sistema de Estoque, Sistema de Entrega</p></li>
<li><p><strong>Objetivo</strong>: Completar a compra dos itens no carrinho</p></li>
</ul>
<p><strong>Pré-condições:</strong></p>
<ul class="simple">
<li><p>Cliente autenticado no sistema</p></li>
<li><p>Carrinho possui pelo menos um item</p></li>
<li><p>Itens no carrinho estão disponíveis em estoque</p></li>
<li><p>Cliente possui endereço de entrega cadastrado</p></li>
</ul>
<p><strong>Pós-condições (Sucesso):</strong></p>
<ul class="simple">
<li><p>Pedido criado com status “Confirmado”</p></li>
<li><p>Pagamento processado e aprovado</p></li>
<li><p>Estoque atualizado (itens reservados)</p></li>
<li><p>Email de confirmação enviado ao cliente</p></li>
<li><p>Processo de entrega iniciado</p></li>
</ul>
<p><strong>Fluxo Principal:</strong></p>
<ol class="arabic simple">
<li><p>Cliente acessa página de checkout</p></li>
<li><p>Sistema exibe resumo do carrinho e valor total</p></li>
<li><p>Cliente confirma endereço de entrega</p></li>
<li><p>Cliente seleciona forma de pagamento</p></li>
<li><p>Cliente confirma dados do pagamento</p></li>
<li><p>Sistema processa pagamento</p></li>
<li><p>Sistema confirma disponibilidade no estoque</p></li>
<li><p>Sistema cria pedido</p></li>
<li><p>Sistema envia email de confirmação</p></li>
<li><p>Sistema exibe página de sucesso</p></li>
</ol>
<p><strong>Fluxos Alternativos:</strong></p>
<ul class="simple">
<li><p><strong>A1</strong>: Cliente altera endereço durante checkout</p></li>
<li><p><strong>A2</strong>: Cliente aplica cupom de desconto</p></li>
<li><p><strong>A3</strong>: Cliente escolhe entrega expressa</p></li>
<li><p><strong>A4</strong>: Cliente divide pagamento em múltiplos cartões</p></li>
</ul>
<p><strong>Fluxos de Exceção:</strong></p>
<ul class="simple">
<li><p><strong>E1</strong>: Pagamento negado pelo cartão</p></li>
<li><p><strong>E2</strong>: Item se torna indisponível durante checkout</p></li>
<li><p><strong>E3</strong>: Sistema de pagamento temporariamente fora do ar</p></li>
<li><p><strong>E4</strong>: Endereço de entrega inválido ou não atendido</p></li>
</ul>
</section>
</section>
<section id="derivacao-de-casos-de-teste">
<h4>Derivação de Casos de Teste<a class="headerlink" href="#derivacao-de-casos-de-teste" title="Link to this heading">#</a></h4>
<p><strong>Casos de Teste do Fluxo Principal:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>TC_001: Compra Básica - Fluxo Principal
Pré-condições:
- Cliente &quot;João Silva&quot; autenticado
- Carrinho com: 1x Notebook (R$ 2.500,00)
- Endereço padrão: Rua A, 123, São Paulo, SP
- Cartão padrão: ****1234 com limite suficiente

Passos:
1. Acessar checkout
2. Verificar resumo (1 item, R$ 2.500,00)
3. Confirmar endereço padrão
4. Selecionar cartão padrão
5. Confirmar pagamento
6. Aguardar processamento
7. Verificar criação do pedido
8. Confirmar recebimento do email

Resultado Esperado:
- Pedido criado com status &quot;Confirmado&quot;
- Email recebido em até 2 minutos
- Estoque do notebook reduzido em 1
</pre></div>
</div>
<p><strong>Casos de Teste dos Fluxos Alternativos:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>TC_002: Aplicação de Cupom de Desconto
Pré-condições: [mesmas do TC_001] + Cupom &quot;DESC10&quot; válido

Passos:
1-2. [mesmos do TC_001]
3. Inserir cupom &quot;DESC10&quot;
4. Verificar aplicação do desconto (R$ 2.250,00)
5-8. [continuar fluxo normal]

Resultado Esperado:
- Valor final: R$ 2.250,00
- Cupom marcado como utilizado
</pre></div>
</div>
<p><strong>Casos de Teste dos Fluxos de Exceção:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TC_003</span><span class="p">:</span> <span class="n">Pagamento</span> <span class="n">Negado</span>
<span class="n">Pré</span><span class="o">-</span><span class="n">condições</span><span class="p">:</span> <span class="p">[</span><span class="n">mesmas</span> <span class="n">do</span> <span class="n">TC_001</span><span class="p">]</span> <span class="o">+</span> <span class="n">Cartão</span> <span class="n">com</span> <span class="n">limite</span> <span class="n">insuficiente</span>

<span class="n">Passos</span><span class="p">:</span>
<span class="mi">1</span><span class="o">-</span><span class="mf">5.</span> <span class="p">[</span><span class="n">mesmo</span> <span class="n">fluxo</span> <span class="n">até</span> <span class="n">confirmação</span> <span class="n">de</span> <span class="n">pagamento</span><span class="p">]</span>
<span class="mf">6.</span> <span class="n">Sistema</span> <span class="n">tenta</span> <span class="n">processar</span> <span class="n">pagamento</span>
<span class="mf">7.</span> <span class="n">Recebe</span> <span class="n">negativa</span> <span class="n">do</span> <span class="n">banco</span>

<span class="n">Resultado</span> <span class="n">Esperado</span><span class="p">:</span>
<span class="o">-</span> <span class="n">Mensagem</span> <span class="n">clara</span> <span class="n">de</span> <span class="n">erro</span> <span class="n">exibida</span>
<span class="o">-</span> <span class="n">Opção</span> <span class="n">para</span> <span class="n">tentar</span> <span class="n">outro</span> <span class="n">cartão</span>
<span class="o">-</span> <span class="n">Pedido</span> <span class="n">NÃO</span> <span class="n">criado</span>
<span class="o">-</span> <span class="n">Estoque</span> <span class="n">NÃO</span> <span class="n">alterado</span>
<span class="o">-</span> <span class="n">Email</span> <span class="n">NÃO</span> <span class="n">enviado</span>
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="aplicacao-pratica-e-implementacao">
<h2>3. Aplicação Prática e Implementação<a class="headerlink" href="#aplicacao-pratica-e-implementacao" title="Link to this heading">#</a></h2>
<section id="estudo-de-caso-guiado-sistema-de-autenticacao-bancaria">
<h3>3.1. Estudo de Caso Guiado: Sistema de Autenticação Bancária<a class="headerlink" href="#estudo-de-caso-guiado-sistema-de-autenticacao-bancaria" title="Link to this heading">#</a></h3>
<p>Para demonstrar a aplicação prática das técnicas de teste funcional, desenvolveremos um estudo de caso completo de um <strong>Sistema de Autenticação Bancária</strong> que integra múltiplas validações críticas. Este sistema será usado como base para exemplificar todas as cinco técnicas estudadas na seção anterior.</p>
<section id="especificacao-do-sistema">
<h4>Especificação do Sistema<a class="headerlink" href="#especificacao-do-sistema" title="Link to this heading">#</a></h4>
<p><strong>Contexto</strong>: Um banco digital precisa implementar um sistema de autenticação robusto que garanta segurança máxima enquanto oferece uma experiência de usuário fluida. O sistema deve validar credenciais, gerenciar tentativas de login, aplicar bloqueios de segurança e controlar sessões ativas.</p>
<p><strong>Requisitos Funcionais:</strong></p>
<ol class="arabic simple">
<li><p><strong>Validação de Login</strong>:</p>
<ul class="simple">
<li><p>CPF: deve ser um CPF válido (11 dígitos, formato XXX.XXX.XXX-XX)</p></li>
<li><p>Senha: 8-20 caracteres, ao menos 1 número, 1 letra maiúscula, 1 caractere especial</p></li>
<li><p>Ambos os campos são obrigatórios</p></li>
</ul>
</li>
<li><p><strong>Controle de Tentativas</strong>:</p>
<ul class="simple">
<li><p>Máximo 3 tentativas consecutivas por conta</p></li>
<li><p>Bloqueio temporário de 15 minutos após 3 falhas</p></li>
<li><p>Bloqueio permanente após 5 bloqueios temporários</p></li>
</ul>
</li>
<li><p><strong>Gestão de Sessão</strong>:</p>
<ul class="simple">
<li><p>Timeout automático após 30 minutos de inatividade</p></li>
<li><p>Logout manual permitido a qualquer momento</p></li>
<li><p>Apenas uma sessão ativa por usuário</p></li>
</ul>
</li>
<li><p><strong>Auditoria e Segurança</strong>:</p>
<ul class="simple">
<li><p>Log de todas as tentativas (sucesso e falha)</p></li>
<li><p>Detecção de atividades suspeitas (múltiplos IPs, horários incomuns)</p></li>
<li><p>Notificação por email em casos de bloqueio</p></li>
</ul>
</li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="exemplos-de-codigo-comentado">
<h3>3.2. Exemplos de Código Comentado<a class="headerlink" href="#exemplos-de-codigo-comentado" title="Link to this heading">#</a></h3>
<section id="id18">
<h4>Particionamento de Equivalência<a class="headerlink" href="#id18" title="Link to this heading">#</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Exemplo de função para validar CPF</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validar_cpf</span><span class="p">(</span><span class="n">cpf</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Valida o formato e os dígitos verificadores de um CPF.</span>
<span class="sd">    Retorna True se válido, False caso contrário.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
    <span class="c1"># Verifica formato XXX.XXX.XXX-XX</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\d</span><span class="si">{3}</span><span class="s2">\.\d</span><span class="si">{3}</span><span class="s2">\.\d</span><span class="si">{3}</span><span class="s2">-\d</span><span class="si">{2}</span><span class="s2">$&quot;</span><span class="p">,</span> <span class="n">cpf</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="c1"># Verifica dígitos repetidos</span>
    <span class="k">if</span> <span class="n">cpf</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">cpf</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">cpf</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="c1"># Implementação simplificada dos dígitos verificadores</span>
    <span class="c1"># ... (omitir para foco didático)</span>
    <span class="k">return</span> <span class="kc">True</span>

<span class="c1"># Exemplo de função para validar senha</span>
<span class="k">def</span><span class="w"> </span><span class="nf">validar_senha</span><span class="p">(</span><span class="n">senha</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Valida se a senha atende aos critérios de segurança.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">8</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">senha</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[A-Z]&quot;</span><span class="p">,</span> <span class="n">senha</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[0-9]&quot;</span><span class="p">,</span> <span class="n">senha</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[!@#$%^&amp;*()_+=\-]&quot;</span><span class="p">,</span> <span class="n">senha</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="id19">
<h4>Análise do Valor Limite<a class="headerlink" href="#id19" title="Link to this heading">#</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Teste de valor limite para tentativas de login</span>
<span class="k">def</span><span class="w"> </span><span class="nf">testar_limite_tentativas</span><span class="p">(</span><span class="n">tentativas</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retorna o estado esperado do sistema conforme o número de tentativas.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">tentativas</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;ATIVO&quot;</span>
    <span class="k">elif</span> <span class="n">tentativas</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;BLOQUEADO_TEMPORARIO&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;BLOQUEADO_TEMPORARIO&quot;</span>
</pre></div>
</div>
</section>
<section id="tabela-de-decisao">
<h4>Tabela de Decisão<a class="headerlink" href="#tabela-de-decisao" title="Link to this heading">#</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Exemplo de regra de decisão para autenticação</span>
<span class="k">def</span><span class="w"> </span><span class="nf">autenticar_usuario</span><span class="p">(</span><span class="n">cpf</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">senha</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">tentativas</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">sessao_ativa</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Aplica regras de negócio conforme tabela de decisão.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">validar_cpf</span><span class="p">(</span><span class="n">cpf</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">validar_senha</span><span class="p">(</span><span class="n">senha</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;ERRO_VALIDACAO&quot;</span>
    <span class="k">if</span> <span class="n">tentativas</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;CONTA_BLOQUEADA_TEMP&quot;</span>
    <span class="k">if</span> <span class="n">sessao_ativa</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;ERRO_SESSAO_ATIVA&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;LOGIN_SUCESSO&quot;</span>
</pre></div>
</div>
</section>
<section id="maquina-de-estado">
<h4>Máquina de Estado<a class="headerlink" href="#maquina-de-estado" title="Link to this heading">#</a></h4>
<pre  class="mermaid">
        stateDiagram-v2
    [*] --&gt; Inativo : Sistema Inicializado
    
    Inativo --&gt; Autenticando : login_iniciado
    Autenticando --&gt; Ativo : credenciais_válidas
    Autenticando --&gt; Bloqueado : 3_tentativas_falharam
    Autenticando --&gt; Inativo : cancelar_login
    
    Ativo --&gt; Inativo : logout
    Ativo --&gt; Bloqueado : atividade_suspeita
    
    Bloqueado --&gt; Inativo : timeout_15min
    Bloqueado --&gt; Inativo : admin_desbloqueou
    
    Ativo --&gt; Ativo : operação_válida
    </pre></section>
<section id="id20">
<h4>Testes Baseados em Casos de Uso<a class="headerlink" href="#id20" title="Link to this heading">#</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Caso de uso: Login bem-sucedido</span>
<span class="k">def</span><span class="w"> </span><span class="nf">caso_uso_login_sucesso</span><span class="p">():</span>
    <span class="n">cpf</span> <span class="o">=</span> <span class="s2">&quot;123.456.789-09&quot;</span>
    <span class="n">senha</span> <span class="o">=</span> <span class="s2">&quot;MinhaSenh@123&quot;</span>
    <span class="n">tentativas</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">sessao_ativa</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">resultado</span> <span class="o">=</span> <span class="n">autenticar_usuario</span><span class="p">(</span><span class="n">cpf</span><span class="p">,</span> <span class="n">senha</span><span class="p">,</span> <span class="n">tentativas</span><span class="p">,</span> <span class="n">sessao_ativa</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">resultado</span> <span class="o">==</span> <span class="s2">&quot;LOGIN_SUCESSO&quot;</span>

<span class="c1"># Caso de uso: Bloqueio após tentativas</span>
<span class="k">def</span><span class="w"> </span><span class="nf">caso_uso_bloqueio_tentativas</span><span class="p">():</span>
    <span class="n">cpf</span> <span class="o">=</span> <span class="s2">&quot;123.456.789-09&quot;</span>
    <span class="n">senha</span> <span class="o">=</span> <span class="s2">&quot;senhaerrada&quot;</span>
    <span class="n">tentativas</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">sessao_ativa</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">resultado</span> <span class="o">=</span> <span class="n">autenticar_usuario</span><span class="p">(</span><span class="n">cpf</span><span class="p">,</span> <span class="n">senha</span><span class="p">,</span> <span class="n">tentativas</span><span class="p">,</span> <span class="n">sessao_ativa</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">resultado</span> <span class="o">==</span> <span class="s2">&quot;CONTA_BLOQUEADA_TEMP&quot;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="ferramentas-bibliotecas-e-ecossistema">
<h3>3.3. Ferramentas, Bibliotecas e Ecossistema<a class="headerlink" href="#ferramentas-bibliotecas-e-ecossistema" title="Link to this heading">#</a></h3>
<p>Para a demonstração deste conceito, utilizamos apenas recursos nativos do <strong>Python 3.12+</strong>. Nenhuma biblioteca externa foi necessária, reforçando que os princípios ensinados são fundamentais à estruturação do código e não dependem de ferramentas de terceiros.</p>
<p>Em ambientes reais, recomenda-se o uso de frameworks de teste como <strong>pytest</strong> para automação dos casos de teste, além de ferramentas de análise estática e integração contínua (CI/CD) para garantir qualidade e rastreabilidade dos resultados.</p>
</section>
</section>
<hr class="docutils" />
<section id="topicos-avancados-e-nuances">
<h2>4. Tópicos Avançados e Nuances<a class="headerlink" href="#topicos-avancados-e-nuances" title="Link to this heading">#</a></h2>
<section id="desafios-comuns-e-anti-padroes">
<h3>4.1. Desafios Comuns e “Anti-Padrões”<a class="headerlink" href="#desafios-comuns-e-anti-padroes" title="Link to this heading">#</a></h3>
<p>As técnicas de teste funcional, embora poderosas e amplamente utilizadas, apresentam desafios específicos que podem comprometer sua eficácia quando não adequadamente compreendidos e gerenciados. Esta seção explora os principais obstáculos encontrados na prática e como evitá-los.</p>
<section id="explosao-combinatorial-e-gerenciamento-de-complexidade">
<h4>Explosão Combinatorial e Gerenciamento de Complexidade<a class="headerlink" href="#explosao-combinatorial-e-gerenciamento-de-complexidade" title="Link to this heading">#</a></h4>
<p><strong>O Problema</strong>: Em sistemas reais, o número de combinações possíveis de entrada pode crescer exponencialmente. Um sistema com apenas 10 campos de entrada, cada um com 5 partições válidas, já resultaria em <span class="math notranslate nohighlight">\(5^{10} = 9.765.625\)</span> combinações possíveis usando particionamento completo.</p>
<p><strong>Exemplo Prático</strong>: Considere um sistema de e-commerce com os seguintes campos no checkout:</p>
<ul class="simple">
<li><p><strong>CEP</strong>: 5 partições (válido, formato inválido, inexistente, internacional, vazio)</p></li>
<li><p><strong>Tipo de Entrega</strong>: 3 partições (padrão, expressa, agendada)</p></li>
<li><p><strong>Forma de Pagamento</strong>: 4 partições (cartão crédito, débito, PIX, boleto)</p></li>
<li><p><strong>Cupom de Desconto</strong>: 3 partições (válido, expirado, inexistente)</p></li>
<li><p><strong>Quantidade de Itens</strong>: 4 partições (1 item, múltiplos, limite máximo, zero)</p></li>
</ul>
<p>Isso resultaria em <span class="math notranslate nohighlight">\(5 \times 3 \times 4 \times 3 \times 4 = 720\)</span> combinações teóricas.</p>
<p><strong>Estratégias de Mitigação</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ESTRATÉGIA 1: Particionamento Hierárquico</span>
<span class="c1"># Agrupa variáveis relacionadas para reduzir combinações</span>

<span class="k">def</span><span class="w"> </span><span class="nf">particionar_hierarquicamente</span><span class="p">(</span><span class="n">sistema</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Aplica particionamento em níveis hierárquicos para reduzir complexidade.</span>
<span class="sd">    </span>
<span class="sd">    PRINCÍPIO: Nem todas as variáveis interagem significativamente.</span>
<span class="sd">    Agrupe variáveis que têm interdependências fortes e trate</span>
<span class="sd">    grupos independentes separadamente.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># Nível 1: Validação básica de campos</span>
    <span class="n">grupos</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;validacao_basica&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cep&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="s2">&quot;telefone&quot;</span><span class="p">],</span>
        <span class="s2">&quot;logica_negocio&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;forma_pagamento&quot;</span><span class="p">,</span> <span class="s2">&quot;cupom&quot;</span><span class="p">,</span> <span class="s2">&quot;entrega&quot;</span><span class="p">],</span>
        <span class="s2">&quot;limites_sistema&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;quantidade_itens&quot;</span><span class="p">,</span> <span class="s2">&quot;valor_total&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    
    <span class="n">casos_teste</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Teste cada grupo independentemente primeiro</span>
    <span class="k">for</span> <span class="n">grupo</span><span class="p">,</span> <span class="n">campos</span> <span class="ow">in</span> <span class="n">grupos</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">casos_teste</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">gerar_casos_grupo</span><span class="p">(</span><span class="n">campos</span><span class="p">))</span>
    
    <span class="c1"># Depois teste interações críticas entre grupos</span>
    <span class="n">casos_teste</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">gerar_casos_integracao_critica</span><span class="p">())</span>
    
    <span class="k">return</span> <span class="n">casos_teste</span>

<span class="c1"># ESTRATÉGIA 2: Priorização por Risco e Impacto</span>
<span class="k">def</span><span class="w"> </span><span class="nf">priorizar_casos_teste</span><span class="p">(</span><span class="n">casos_teste</span><span class="p">,</span> <span class="n">matriz_risco</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ordena casos de teste baseado em análise de risco.</span>
<span class="sd">    </span>
<span class="sd">    CRITÉRIOS:</span>
<span class="sd">    1. Probabilidade de defeito (baseada em histórico)</span>
<span class="sd">    2. Impacto no negócio (crítico, alto, médio, baixo)</span>
<span class="sd">    3. Complexidade de correção</span>
<span class="sd">    4. Frequência de uso pelo usuário</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">calcular_prioridade</span><span class="p">(</span><span class="n">caso</span><span class="p">):</span>
        <span class="n">probabilidade</span> <span class="o">=</span> <span class="n">matriz_risco</span><span class="p">[</span><span class="n">caso</span><span class="o">.</span><span class="n">categoria</span><span class="p">][</span><span class="s1">&#39;probabilidade&#39;</span><span class="p">]</span>
        <span class="n">impacto</span> <span class="o">=</span> <span class="n">matriz_risco</span><span class="p">[</span><span class="n">caso</span><span class="o">.</span><span class="n">categoria</span><span class="p">][</span><span class="s1">&#39;impacto&#39;</span><span class="p">]</span>
        <span class="n">frequencia</span> <span class="o">=</span> <span class="n">matriz_risco</span><span class="p">[</span><span class="n">caso</span><span class="o">.</span><span class="n">categoria</span><span class="p">][</span><span class="s1">&#39;frequencia&#39;</span><span class="p">]</span>
        
        <span class="c1"># Fórmula de priorização: P * I * F</span>
        <span class="k">return</span> <span class="n">probabilidade</span> <span class="o">*</span> <span class="n">impacto</span> <span class="o">*</span> <span class="n">frequencia</span>
    
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">casos_teste</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">calcular_prioridade</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="dependencias-ocultas-e-efeitos-colaterais">
<h4>Dependências Ocultas e Efeitos Colaterais<a class="headerlink" href="#dependencias-ocultas-e-efeitos-colaterais" title="Link to this heading">#</a></h4>
<p><strong>O Problema</strong>: Sistemas reais frequentemente têm dependências não documentadas entre componentes, estados globais e efeitos colaterais que invalidam o pressuposto de independência das técnicas de particionamento.</p>
<p><strong>Exemplo Real</strong>: Em um sistema bancário, a validação de limite de transferência não depende apenas do valor informado, mas também de:</p>
<ul class="simple">
<li><p>Horário da operação (limites diferentes para horário comercial vs. noturno)</p></li>
<li><p>Histórico de transações do dia</p></li>
<li><p>Status KYC (Know Your Customer) do cliente</p></li>
<li><p>Configurações de risco da conta</p></li>
<li><p>Feriados bancários e finais de semana</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ANTI-PADRÃO: Particionamento que ignora dependências</span>
<span class="k">def</span><span class="w"> </span><span class="nf">particionar_valor_transferencia_ingenuo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PROBLEMA: Esta abordagem trata o valor de transferência como</span>
<span class="sd">    uma variável independente, ignorando dependências contextuais.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">},</span>      <span class="c1"># Ingênuo!</span>
        <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">},</span>    <span class="c1"># Pode falhar!</span>
        <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">50000</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;LIMITE&quot;</span><span class="p">}</span>     <span class="c1"># Depende do contexto!</span>
    <span class="p">]</span>

<span class="c1"># BOA PRÁTICA: Particionamento contextual</span>
<span class="k">def</span><span class="w"> </span><span class="nf">particionar_valor_transferencia_contextual</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SOLUÇÃO: Considera o contexto completo que afeta a validação.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">contextos</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;cenario&quot;</span><span class="p">:</span> <span class="s2">&quot;horario_comercial_conta_premium&quot;</span><span class="p">,</span>
            <span class="s2">&quot;horario&quot;</span><span class="p">:</span> <span class="s2">&quot;14:30&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tipo_conta&quot;</span><span class="p">:</span> <span class="s2">&quot;premium&quot;</span><span class="p">,</span>
            <span class="s2">&quot;particoes_valor&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">},</span>
                <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">50000</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">},</span>
                <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;REQUER_AUTORIZACAO&quot;</span><span class="p">},</span>
                <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;LIMITE_EXCEDIDO&quot;</span><span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;cenario&quot;</span><span class="p">:</span> <span class="s2">&quot;horario_noturno_conta_basica&quot;</span><span class="p">,</span>
            <span class="s2">&quot;horario&quot;</span><span class="p">:</span> <span class="s2">&quot;23:45&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tipo_conta&quot;</span><span class="p">:</span> <span class="s2">&quot;basica&quot;</span><span class="p">,</span>
            <span class="s2">&quot;particoes_valor&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">},</span>
                <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;LIMITE_NOTURNO&quot;</span><span class="p">},</span>
                <span class="p">{</span><span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span> <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;BLOQUEADO_HORARIO&quot;</span><span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
    
    <span class="k">return</span> <span class="n">contextos</span>
</pre></div>
</div>
</section>
<section id="evolucao-de-requisitos-e-manutencao-de-testes">
<h4>Evolução de Requisitos e Manutenção de Testes<a class="headerlink" href="#evolucao-de-requisitos-e-manutencao-de-testes" title="Link to this heading">#</a></h4>
<p><strong>O Problema</strong>: Em ambientes ágeis, requisitos mudam rapidamente, mas os casos de teste baseados em técnicas funcionais podem se tornar obsoletos ou incorretos sem atualização adequada.</p>
<p><strong>Desafio Real</strong>: Uma fintech que inicialmente permitia transferências PIX de R<span class="math notranslate nohighlight">\( 1.000 por dia para contas básicas aumenta o limite para R\)</span> 5.000. Todos os casos de teste baseados em valor limite precisam ser revisados.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ESTRATÉGIA: Testes Parametrizados e Configuração Externa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Callable</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ConfiguracaoTeste</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Centraliza configurações de negócio que mudam frequentemente.</span>
<span class="sd">    </span>
<span class="sd">    VANTAGEM: Quando regras mudam, apenas a configuração precisa</span>
<span class="sd">    ser atualizada, não o código dos testes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arquivo_config</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">arquivo_config</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">obter_limites_transferencia</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tipo_conta</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">horario</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtém limites dinâmicos baseados em configuração externa.&quot;&quot;&quot;</span>
        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;limites_transferencia&quot;</span><span class="p">][</span><span class="n">tipo_conta</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_horario_comercial</span><span class="p">(</span><span class="n">horario</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">base</span><span class="p">[</span><span class="s2">&quot;horario_comercial&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">base</span><span class="p">[</span><span class="s2">&quot;horario_estendido&quot;</span><span class="p">]</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_is_horario_comercial</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">horario</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determina se o horário é comercial baseado na configuração.&quot;&quot;&quot;</span>
        <span class="n">inicio</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;horario_comercial&quot;</span><span class="p">][</span><span class="s2">&quot;inicio&quot;</span><span class="p">]</span>
        <span class="n">fim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;horario_comercial&quot;</span><span class="p">][</span><span class="s2">&quot;fim&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">inicio</span> <span class="o">&lt;=</span> <span class="n">horario</span> <span class="o">&lt;=</span> <span class="n">fim</span>

<span class="k">def</span><span class="w"> </span><span class="nf">gerar_casos_teste_adaptativos</span><span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">ConfiguracaoTeste</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gera casos de teste que se adaptam automaticamente a mudanças</span>
<span class="sd">    de configuração de negócio.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">casos_teste</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">tipo_conta</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;basica&quot;</span><span class="p">,</span> <span class="s2">&quot;premium&quot;</span><span class="p">,</span> <span class="s2">&quot;empresarial&quot;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">horario</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;09:00&quot;</span><span class="p">,</span> <span class="s2">&quot;14:30&quot;</span><span class="p">,</span> <span class="s2">&quot;22:00&quot;</span><span class="p">]:</span>
            <span class="n">limites</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">obter_limites_transferencia</span><span class="p">(</span><span class="n">tipo_conta</span><span class="p">,</span> <span class="n">horario</span><span class="p">)</span>
            
            <span class="c1"># Gera automaticamente valores limite baseados na configuração atual</span>
            <span class="n">casos_teste</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span>
                <span class="p">{</span>
                    <span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="n">limites</span><span class="p">[</span><span class="s2">&quot;maximo&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;contexto&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tipo_conta</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">horario</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="n">limites</span><span class="p">[</span><span class="s2">&quot;maximo&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;contexto&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tipo_conta</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">horario</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="n">limites</span><span class="p">[</span><span class="s2">&quot;maximo&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s2">&quot;esperado&quot;</span><span class="p">:</span> <span class="s2">&quot;LIMITE_EXCEDIDO&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;contexto&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tipo_conta</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">horario</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">}</span>
            <span class="p">])</span>
    
    <span class="k">return</span> <span class="n">casos_teste</span>
</pre></div>
</div>
</section>
<section id="validacao-inadequada-de-estados-e-transicoes">
<h4>Validação Inadequada de Estados e Transições<a class="headerlink" href="#validacao-inadequada-de-estados-e-transicoes" title="Link to this heading">#</a></h4>
<p><strong>O Problema</strong>: Testes baseados em máquinas de estado frequentemente focam apenas nos caminhos “felizes” e falham em validar adequadamente estados de erro, transições inválidas e recuperação de falhas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ANTI-PADRÃO: Teste incompleto de máquina de estado</span>
<span class="k">def</span><span class="w"> </span><span class="nf">teste_login_incompleto</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PROBLEMA: Testa apenas o caminho de sucesso, ignora casos de borda</span>
<span class="sd">    e transições inválidas que são críticas para segurança.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">estado</span> <span class="o">=</span> <span class="s2">&quot;DESLOGADO&quot;</span>
    <span class="n">estado</span> <span class="o">=</span> <span class="n">processar_evento</span><span class="p">(</span><span class="n">estado</span><span class="p">,</span> <span class="s2">&quot;INICIAR_LOGIN&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">estado</span> <span class="o">==</span> <span class="s2">&quot;DIGITANDO_CREDENCIAIS&quot;</span>
    
    <span class="n">estado</span> <span class="o">=</span> <span class="n">processar_evento</span><span class="p">(</span><span class="n">estado</span><span class="p">,</span> <span class="s2">&quot;SUBMETER_CREDENCIAIS_VALIDAS&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">estado</span> <span class="o">==</span> <span class="s2">&quot;LOGADO&quot;</span>
    <span class="c1"># Fim do teste - INADEQUADO!</span>

<span class="c1"># BOA PRÁTICA: Teste abrangente de máquina de estado</span>
<span class="k">def</span><span class="w"> </span><span class="nf">teste_login_abrangente</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SOLUÇÃO: Testa sistematicamente todos os estados, transições</span>
<span class="sd">    válidas e inválidas, e cenários de recuperação.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># 1. Teste de transições válidas</span>
    <span class="n">cenarios_validos</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;DESLOGADO&quot;</span><span class="p">,</span> <span class="s2">&quot;INICIAR_LOGIN&quot;</span><span class="p">,</span> <span class="s2">&quot;DIGITANDO_CREDENCIAIS&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;DIGITANDO_CREDENCIAIS&quot;</span><span class="p">,</span> <span class="s2">&quot;SUBMETER_VALIDAS&quot;</span><span class="p">,</span> <span class="s2">&quot;LOGADO&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;DIGITANDO_CREDENCIAIS&quot;</span><span class="p">,</span> <span class="s2">&quot;CANCELAR&quot;</span><span class="p">,</span> <span class="s2">&quot;DESLOGADO&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;LOGADO&quot;</span><span class="p">,</span> <span class="s2">&quot;LOGOUT&quot;</span><span class="p">,</span> <span class="s2">&quot;DESLOGADO&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;LOGADO&quot;</span><span class="p">,</span> <span class="s2">&quot;TIMEOUT&quot;</span><span class="p">,</span> <span class="s2">&quot;DESLOGADO&quot;</span><span class="p">)</span>
    <span class="p">]</span>
    
    <span class="k">for</span> <span class="n">estado_inicial</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">estado_esperado</span> <span class="ow">in</span> <span class="n">cenarios_validos</span><span class="p">:</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">processar_evento</span><span class="p">(</span><span class="n">estado_inicial</span><span class="p">,</span> <span class="n">evento</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">resultado</span> <span class="o">==</span> <span class="n">estado_esperado</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Falha na transição </span><span class="si">{</span><span class="n">estado_inicial</span><span class="si">}</span><span class="s2"> -&gt; </span><span class="si">{</span><span class="n">evento</span><span class="si">}</span><span class="s2">&quot;</span>
    
    <span class="c1"># 2. Teste de transições inválidas</span>
    <span class="n">cenarios_invalidos</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;DESLOGADO&quot;</span><span class="p">,</span> <span class="s2">&quot;LOGOUT&quot;</span><span class="p">),</span>  <span class="c1"># Não deveria ser possível</span>
        <span class="p">(</span><span class="s2">&quot;DIGITANDO_CREDENCIAIS&quot;</span><span class="p">,</span> <span class="s2">&quot;TIMEOUT&quot;</span><span class="p">),</span>  <span class="c1"># Estado incorreto</span>
        <span class="p">(</span><span class="s2">&quot;LOGADO&quot;</span><span class="p">,</span> <span class="s2">&quot;INICIAR_LOGIN&quot;</span><span class="p">)</span>  <span class="c1"># Já está logado</span>
    <span class="p">]</span>
    
    <span class="k">for</span> <span class="n">estado_inicial</span><span class="p">,</span> <span class="n">evento_invalido</span> <span class="ow">in</span> <span class="n">cenarios_invalidos</span><span class="p">:</span>
        <span class="n">resultado</span> <span class="o">=</span> <span class="n">processar_evento</span><span class="p">(</span><span class="n">estado_inicial</span><span class="p">,</span> <span class="n">evento_invalido</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">resultado</span> <span class="o">==</span> <span class="n">estado_inicial</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Transição inválida alterou estado: </span><span class="si">{</span><span class="n">estado_inicial</span><span class="si">}</span><span class="s2"> + </span><span class="si">{</span><span class="n">evento_invalido</span><span class="si">}</span><span class="s2">&quot;</span>
    
    <span class="c1"># 3. Teste de recuperação de erro</span>
    <span class="c1"># Simula falhas de sistema durante transições críticas</span>
    <span class="k">for</span> <span class="n">estado</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;DIGITANDO_CREDENCIAIS&quot;</span><span class="p">,</span> <span class="s2">&quot;VALIDANDO&quot;</span><span class="p">,</span> <span class="s2">&quot;LOGADO&quot;</span><span class="p">]:</span>
        <span class="n">estado_recuperado</span> <span class="o">=</span> <span class="n">simular_falha_sistema</span><span class="p">(</span><span class="n">estado</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">estado_recuperado</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;DESLOGADO&quot;</span><span class="p">,</span> <span class="s2">&quot;ERRO_RECUPERAVEL&quot;</span><span class="p">],</span> <span class="sa">f</span><span class="s2">&quot;Recuperação inadequada do estado </span><span class="si">{</span><span class="n">estado</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p><strong>Armadilhas a Evitar</strong></p>
<blockquote>
<div><p>⚠️ <strong>CAIXA DE DESTAQUE: “Armadilhas a Evitar”</strong></p>
<ol class="arabic simple">
<li><p><strong>Particionamento Superficial</strong>: Criar partições muito amplas que ainda contêm comportamentos significativamente diferentes</p></li>
<li><p><strong>Valor Limite Hardcoded</strong>: Codificar valores limite diretamente nos testes em vez de derivá-los dinamicamente das especificações</p></li>
<li><p><strong>Tabelas de Decisão Incompletas</strong>: Não considerar todas as combinações possíveis ou marcar erroneamente algumas como “impossíveis”</p></li>
<li><p><strong>Estados Fantasma</strong>: Modelar estados em máquinas de estado que não correspondem a estados reais do sistema</p></li>
</ol>
</div></blockquote>
</section>
</section>
<section id="variacoes-e-arquiteturas-especializadas">
<h3>4.2. Variações e Arquiteturas Especializadas<a class="headerlink" href="#variacoes-e-arquiteturas-especializadas" title="Link to this heading">#</a></h3>
<p>As técnicas fundamentais de teste funcional evoluíram para atender demandas específicas de diferentes domínios e arquiteturas modernas. Esta seção explora adaptações avançadas e especializações que estendem o poder das técnicas clássicas.</p>
<section id="particionamento-de-equivalencia-para-apis-e-microservicos">
<h4>Particionamento de Equivalência para APIs e Microserviços<a class="headerlink" href="#particionamento-de-equivalencia-para-apis-e-microservicos" title="Link to this heading">#</a></h4>
<p><strong>Contexto</strong>: Em arquiteturas de microserviços, o particionamento tradicional precisa considerar aspectos como versionamento de API, contratos entre serviços e tolerância a falhas distribuídas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># PARTICIONAMENTO AVANÇADO PARA APIS</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TipoContrato</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">COMPATIVEL_RETROATIVO</span> <span class="o">=</span> <span class="s2">&quot;backward_compatible&quot;</span>
    <span class="n">BREAKING_CHANGE</span> <span class="o">=</span> <span class="s2">&quot;breaking_change&quot;</span>
    <span class="n">EXPERIMENTAL</span> <span class="o">=</span> <span class="s2">&quot;experimental&quot;</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ParticaoAPI</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extensão do conceito de partição para APIs REST.</span>
<span class="sd">    </span>
<span class="sd">    Considera não apenas dados de entrada, mas também:</span>
<span class="sd">    - Versão da API</span>
<span class="sd">    - Headers obrigatórios</span>
<span class="sd">    - Códigos de status esperados</span>
<span class="sd">    - Contratos de resposta</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">nome</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">versao_api</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">headers_obrigatorios</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
    <span class="n">payload</span><span class="p">:</span> <span class="n">Dict</span>
    <span class="n">status_esperado</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">contrato_resposta</span><span class="p">:</span> <span class="n">Dict</span>
    <span class="n">tipo_contrato</span><span class="p">:</span> <span class="n">TipoContrato</span>

<span class="k">def</span><span class="w"> </span><span class="nf">particionar_api_pagamento_avancado</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ParticaoAPI</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Demonstra particionamento sofisticado para API de pagamentos</span>
<span class="sd">    que considera múltiplas dimensões de variação.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">particoes</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Partição 1: Pagamento válido - API v2 (atual)</span>
    <span class="n">particoes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ParticaoAPI</span><span class="p">(</span>
        <span class="n">nome</span><span class="o">=</span><span class="s2">&quot;PAGAMENTO_VALIDO_V2&quot;</span><span class="p">,</span>
        <span class="n">versao_api</span><span class="o">=</span><span class="s2">&quot;v2&quot;</span><span class="p">,</span>
        <span class="n">headers_obrigatorios</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer token_valido&quot;</span><span class="p">,</span>
            <span class="s2">&quot;X-Request-ID&quot;</span><span class="p">:</span> <span class="s2">&quot;uuid_valido&quot;</span>
        <span class="p">},</span>
        <span class="n">payload</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="mf">100.50</span><span class="p">,</span>
            <span class="s2">&quot;moeda&quot;</span><span class="p">:</span> <span class="s2">&quot;BRL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;forma_pagamento&quot;</span><span class="p">:</span> <span class="s2">&quot;cartao_credito&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dados_cartao&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;numero&quot;</span><span class="p">:</span> <span class="s2">&quot;4111111111111111&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cvv&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span>
                <span class="s2">&quot;validade&quot;</span><span class="p">:</span> <span class="s2">&quot;12/25&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="n">status_esperado</span><span class="o">=</span><span class="mi">201</span><span class="p">,</span>
        <span class="n">contrato_resposta</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;transaction_id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;approved&quot;</span><span class="p">,</span>
            <span class="s2">&quot;authorization_code&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">},</span>
        <span class="n">tipo_contrato</span><span class="o">=</span><span class="n">TipoContrato</span><span class="o">.</span><span class="n">COMPATIVEL_RETROATIVO</span>
    <span class="p">))</span>
    
    <span class="c1"># Partição 2: Mesmo cenário - API v1 (legacy)</span>
    <span class="n">particoes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ParticaoAPI</span><span class="p">(</span>
        <span class="n">nome</span><span class="o">=</span><span class="s2">&quot;PAGAMENTO_VALIDO_V1_LEGACY&quot;</span><span class="p">,</span>
        <span class="n">versao_api</span><span class="o">=</span><span class="s2">&quot;v1&quot;</span><span class="p">,</span>
        <span class="n">headers_obrigatorios</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;X-API-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;api_key_valida&quot;</span>  <span class="c1"># Autenticação diferente na v1</span>
        <span class="p">},</span>
        <span class="n">payload</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mf">100.50</span><span class="p">,</span>  <span class="c1"># Campo diferente na v1</span>
            <span class="s2">&quot;currency&quot;</span><span class="p">:</span> <span class="s2">&quot;BRL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;payment_method&quot;</span><span class="p">:</span> <span class="s2">&quot;credit_card&quot;</span><span class="p">,</span>
            <span class="s2">&quot;card_data&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;4111111111111111&quot;</span><span class="p">,</span>
                <span class="s2">&quot;security_code&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span>  <span class="c1"># Nome diferente na v1</span>
                <span class="s2">&quot;expiry&quot;</span><span class="p">:</span> <span class="s2">&quot;1225&quot;</span>  <span class="c1"># Formato diferente na v1</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="n">status_esperado</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>  <span class="c1"># Status diferente na v1</span>
        <span class="n">contrato_resposta</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>  <span class="c1"># Estrutura diferente na v1</span>
            <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
            <span class="s2">&quot;auth_code&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
        <span class="p">},</span>
        <span class="n">tipo_contrato</span><span class="o">=</span><span class="n">TipoContrato</span><span class="o">.</span><span class="n">BREAKING_CHANGE</span>
    <span class="p">))</span>
    
    <span class="c1"># Partição 3: Pagamento inválido - valor negativo</span>
    <span class="n">particoes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ParticaoAPI</span><span class="p">(</span>
        <span class="n">nome</span><span class="o">=</span><span class="s2">&quot;PAGAMENTO_VALOR_NEGATIVO&quot;</span><span class="p">,</span>
        <span class="n">versao_api</span><span class="o">=</span><span class="s2">&quot;v2&quot;</span><span class="p">,</span>
        <span class="n">headers_obrigatorios</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer token_valido&quot;</span><span class="p">,</span>
            <span class="s2">&quot;X-Request-ID&quot;</span><span class="p">:</span> <span class="s2">&quot;uuid_valido&quot;</span>
        <span class="p">},</span>
        <span class="n">payload</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;valor&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">50.00</span><span class="p">,</span>  <span class="c1"># Valor inválido</span>
            <span class="s2">&quot;moeda&quot;</span><span class="p">:</span> <span class="s2">&quot;BRL&quot;</span><span class="p">,</span>
            <span class="s2">&quot;forma_pagamento&quot;</span><span class="p">:</span> <span class="s2">&quot;cartao_credito&quot;</span>
        <span class="p">},</span>
        <span class="n">status_esperado</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
        <span class="n">contrato_resposta</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;INVALID_AMOUNT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Amount must be positive&quot;</span><span class="p">,</span>
            <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="s2">&quot;valor&quot;</span>
        <span class="p">},</span>
        <span class="n">tipo_contrato</span><span class="o">=</span><span class="n">TipoContrato</span><span class="o">.</span><span class="n">COMPATIVEL_RETROATIVO</span>
    <span class="p">))</span>
    
    <span class="k">return</span> <span class="n">particoes</span>

<span class="k">def</span><span class="w"> </span><span class="nf">gerar_testes_compatibilidade_api</span><span class="p">(</span><span class="n">particoes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ParticaoAPI</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gera testes que validam compatibilidade entre versões de API.</span>
<span class="sd">    </span>
<span class="sd">    OBJETIVO: Garantir que mudanças na API não quebrem clientes</span>
<span class="sd">    existentes e que contratos sejam respeitados.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">testes_compatibilidade</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Agrupa partições por cenário de negócio</span>
    <span class="n">cenarios</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">particao</span> <span class="ow">in</span> <span class="n">particoes</span><span class="p">:</span>
        <span class="n">cenario_base</span> <span class="o">=</span> <span class="n">particao</span><span class="o">.</span><span class="n">nome</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_V&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Remove versão do nome</span>
        <span class="k">if</span> <span class="n">cenario_base</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cenarios</span><span class="p">:</span>
            <span class="n">cenarios</span><span class="p">[</span><span class="n">cenario_base</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">cenarios</span><span class="p">[</span><span class="n">cenario_base</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">particao</span><span class="p">)</span>
    
    <span class="c1"># Para cada cenário, testa compatibilidade entre versões</span>
    <span class="k">for</span> <span class="n">cenario</span><span class="p">,</span> <span class="n">versoes</span> <span class="ow">in</span> <span class="n">cenarios</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">versoes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">testes_compatibilidade</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">&quot;nome&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;COMPAT_</span><span class="si">{</span><span class="n">cenario</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Testa compatibilidade do cenário </span><span class="si">{</span><span class="n">cenario</span><span class="si">}</span><span class="s2"> entre versões&quot;</span><span class="p">,</span>
                <span class="s2">&quot;versoes_testadas&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">versao_api</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">versoes</span><span class="p">],</span>
                <span class="s2">&quot;expectativa&quot;</span><span class="p">:</span> <span class="s2">&quot;Comportamento funcionalmente equivalente&quot;</span>
            <span class="p">})</span>
    
    <span class="k">return</span> <span class="n">testes_compatibilidade</span>
</pre></div>
</div>
</section>
<section id="analise-do-valor-limite-para-sistemas-distribuidos">
<h4>Análise do Valor Limite para Sistemas Distribuídos<a class="headerlink" href="#analise-do-valor-limite-para-sistemas-distribuidos" title="Link to this heading">#</a></h4>
<p><strong>Contexto</strong>: Em sistemas distribuídos, os “limites” não são apenas valores numéricos, mas incluem timeouts de rede, limites de concorrência, e pontos de falha de componentes distribuídos.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># VALOR LIMITE AVANÇADO PARA SISTEMAS DISTRIBUÍDOS</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">concurrent.futures</span><span class="w"> </span><span class="kn">import</span> <span class="n">ThreadPoolExecutor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Callable</span>

<span class="k">class</span><span class="w"> </span><span class="nc">LimiteDistribuido</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Representa limites específicos de sistemas distribuídos que</span>
<span class="sd">    precisam ser testados com técnicas de valor limite adaptadas.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nome</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limite_valor</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">unidade</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nome</span> <span class="o">=</span> <span class="n">nome</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">limite_valor</span> <span class="o">=</span> <span class="n">limite_valor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unidade</span> <span class="o">=</span> <span class="n">unidade</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">historico_testes</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">gerar_valores_teste</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gera valores de teste considerando a natureza distribuída.</span>
<span class="sd">        </span>
<span class="sd">        Para sistemas distribuídos, incluímos mais variação próxima</span>
<span class="sd">        ao limite devido à natureza não-determinística das redes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">limite_valor</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">base</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">,</span>   <span class="c1"># Bem abaixo do limite</span>
            <span class="n">base</span> <span class="o">*</span> <span class="mf">0.95</span><span class="p">,</span>  <span class="c1"># Próximo mas seguro</span>
            <span class="n">base</span> <span class="o">*</span> <span class="mf">0.99</span><span class="p">,</span>  <span class="c1"># Muito próximo</span>
            <span class="n">base</span><span class="p">,</span>         <span class="c1"># Exatamente no limite</span>
            <span class="n">base</span> <span class="o">*</span> <span class="mf">1.01</span><span class="p">,</span>  <span class="c1"># Ligeiramente acima</span>
            <span class="n">base</span> <span class="o">*</span> <span class="mf">1.05</span><span class="p">,</span>  <span class="c1"># Moderadamente acima</span>
            <span class="n">base</span> <span class="o">*</span> <span class="mf">1.2</span>    <span class="c1"># Bem acima do limite</span>
        <span class="p">]</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">testar_timeout_distribuido</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Testa limites de timeout em comunicação entre microserviços.</span>
<span class="sd">    </span>
<span class="sd">    DESAFIO: Timeouts em redes são não-determinísticos. Precisamos</span>
<span class="sd">    testar não apenas o valor exato, mas o comportamento próximo</span>
<span class="sd">    aos limites considerando variabilidade de rede.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">timeout_configurado</span> <span class="o">=</span> <span class="mf">5.0</span>  <span class="c1"># 5 segundos</span>
    <span class="n">limite_timeout</span> <span class="o">=</span> <span class="n">LimiteDistribuido</span><span class="p">(</span><span class="s2">&quot;TIMEOUT_API&quot;</span><span class="p">,</span> <span class="n">timeout_configurado</span><span class="p">,</span> <span class="s2">&quot;segundos&quot;</span><span class="p">)</span>
    
    <span class="n">resultados_teste</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">valor_teste</span> <span class="ow">in</span> <span class="n">limite_timeout</span><span class="o">.</span><span class="n">gerar_valores_teste</span><span class="p">():</span>
        <span class="n">inicio</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Simula chamada de API com delay controlado</span>
            <span class="k">await</span> <span class="n">simular_chamada_api_com_delay</span><span class="p">(</span><span class="n">valor_teste</span><span class="p">)</span>
            <span class="n">tempo_real</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">inicio</span>
            
            <span class="n">resultado</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;valor_testado&quot;</span><span class="p">:</span> <span class="n">valor_teste</span><span class="p">,</span>
                <span class="s2">&quot;tempo_real&quot;</span><span class="p">:</span> <span class="n">tempo_real</span><span class="p">,</span>
                <span class="s2">&quot;sucesso&quot;</span><span class="p">:</span> <span class="n">tempo_real</span> <span class="o">&lt;=</span> <span class="n">timeout_configurado</span><span class="p">,</span>
                <span class="s2">&quot;comportamento&quot;</span><span class="p">:</span> <span class="s2">&quot;DENTRO_DO_LIMITE&quot;</span> <span class="k">if</span> <span class="n">tempo_real</span> <span class="o">&lt;=</span> <span class="n">timeout_configurado</span> <span class="k">else</span> <span class="s2">&quot;TIMEOUT_EXCEDIDO&quot;</span>
            <span class="p">}</span>
            
        <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">TimeoutError</span><span class="p">:</span>
            <span class="n">tempo_real</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">inicio</span>
            <span class="n">resultado</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;valor_testado&quot;</span><span class="p">:</span> <span class="n">valor_teste</span><span class="p">,</span>
                <span class="s2">&quot;tempo_real&quot;</span><span class="p">:</span> <span class="n">tempo_real</span><span class="p">,</span>
                <span class="s2">&quot;sucesso&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;comportamento&quot;</span><span class="p">:</span> <span class="s2">&quot;TIMEOUT_FORCADO&quot;</span>
            <span class="p">}</span>
        
        <span class="n">resultados_teste</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
        
        <span class="c1"># Pausa entre testes para evitar interferência</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">resultados_teste</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">simular_chamada_api_com_delay</span><span class="p">(</span><span class="n">delay_segundos</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Simula uma chamada de API que demora um tempo específico.&quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay_segundos</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;resposta_simulada&quot;</span><span class="p">}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">testar_limite_concorrencia</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Testa limites de concorrência em sistemas distribuídos.</span>
<span class="sd">    </span>
<span class="sd">    FOCO: Identificar o ponto exato onde o sistema começa a</span>
<span class="sd">    degradar performance ou falhar sob carga concorrente.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">limite_conexoes</span> <span class="o">=</span> <span class="mi">100</span>  <span class="c1"># Limite configurado do sistema</span>
    <span class="n">limite_concorrencia</span> <span class="o">=</span> <span class="n">LimiteDistribuido</span><span class="p">(</span><span class="s2">&quot;CONEXOES_SIMULTANEAS&quot;</span><span class="p">,</span> <span class="n">limite_conexoes</span><span class="p">,</span> <span class="s2">&quot;conexões&quot;</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">executar_requisicao_simultanea</span><span class="p">(</span><span class="n">id_requisicao</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Simula uma requisição individual.&quot;&quot;&quot;</span>
        <span class="n">inicio</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># Simula processamento</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">id_requisicao</span><span class="p">,</span>
            <span class="s2">&quot;tempo_processamento&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">inicio</span><span class="p">,</span>
            <span class="s2">&quot;sucesso&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">}</span>
    
    <span class="n">resultados_concorrencia</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">num_conexoes</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">limite_concorrencia</span><span class="o">.</span><span class="n">gerar_valores_teste</span><span class="p">()]:</span>
        <span class="n">inicio_batch</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        
        <span class="c1"># Executa requisições simultâneas usando ThreadPoolExecutor</span>
        <span class="k">with</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="n">num_conexoes</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
            <span class="n">futures</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">executar_requisicao_simultanea</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> 
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_conexoes</span><span class="p">)</span>
            <span class="p">]</span>
            
            <span class="c1"># Coleta resultados</span>
            <span class="n">resultados_individuais</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">futures</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">resultado</span> <span class="o">=</span> <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Timeout de segurança</span>
                    <span class="n">resultados_individuais</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">resultados_individuais</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                        <span class="s2">&quot;erro&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                        <span class="s2">&quot;sucesso&quot;</span><span class="p">:</span> <span class="kc">False</span>
                    <span class="p">})</span>
        
        <span class="n">tempo_total</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">inicio_batch</span>
        <span class="n">taxa_sucesso</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">resultados_individuais</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sucesso&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">resultados_individuais</span><span class="p">)</span>
        
        <span class="n">resultado_batch</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;num_conexoes&quot;</span><span class="p">:</span> <span class="n">num_conexoes</span><span class="p">,</span>
            <span class="s2">&quot;tempo_total&quot;</span><span class="p">:</span> <span class="n">tempo_total</span><span class="p">,</span>
            <span class="s2">&quot;taxa_sucesso&quot;</span><span class="p">:</span> <span class="n">taxa_sucesso</span><span class="p">,</span>
            <span class="s2">&quot;throughput&quot;</span><span class="p">:</span> <span class="n">num_conexoes</span> <span class="o">/</span> <span class="n">tempo_total</span><span class="p">,</span>
            <span class="s2">&quot;degradacao_performance&quot;</span><span class="p">:</span> <span class="n">tempo_total</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">num_conexoes</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="mf">1.2</span><span class="p">)</span>  <span class="c1"># Degradação se &gt; 20% do esperado</span>
        <span class="p">}</span>
        
        <span class="n">resultados_concorrencia</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resultado_batch</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">resultados_concorrencia</span>
</pre></div>
</div>
</section>
<section id="tabelas-de-decisao-para-compliance-e-regulamentacao">
<h4>Tabelas de Decisão para Compliance e Regulamentação<a class="headerlink" href="#tabelas-de-decisao-para-compliance-e-regulamentacao" title="Link to this heading">#</a></h4>
<p><strong>Contexto</strong>: Em domínios altamente regulamentados (financeiro, saúde, governo), as tabelas de decisão precisam incorporar requisitos de compliance e auditoria.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># TABELAS DE DECISÃO PARA COMPLIANCE FINANCEIRO</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TipoRegulamentacao</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">BACEN</span> <span class="o">=</span> <span class="s2">&quot;banco_central&quot;</span>
    <span class="n">CVM</span> <span class="o">=</span> <span class="s2">&quot;comissao_valores_mobiliarios&quot;</span>
    <span class="n">COAF</span> <span class="o">=</span> <span class="s2">&quot;controle_atividades_financeiras&quot;</span>
    <span class="n">LGPD</span> <span class="o">=</span> <span class="s2">&quot;lei_geral_protecao_dados&quot;</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">RegraCom</span><span class="err">­</span><span class="n">pliance</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Representa uma regra de compliance que deve ser verificada.</span>
<span class="sd">    </span>
<span class="sd">    Attributes:</span>
<span class="sd">        regulamentacao: Órgão regulador origem da regra</span>
<span class="sd">        codigo_regra: Identificação oficial da regra</span>
<span class="sd">        descricao: Descrição em linguagem natural</span>
<span class="sd">        criterio_aplicacao: Condições para aplicar a regra</span>
<span class="sd">        acao_obrigatoria: Ação que deve ser tomada</span>
<span class="sd">        penalidade_nao_cumprimento: Consequência de não seguir a regra</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">regulamentacao</span><span class="p">:</span> <span class="n">TipoRegulamentacao</span>
    <span class="n">codigo_regra</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">descricao</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">criterio_aplicacao</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">any</span><span class="p">]</span>
    <span class="n">acao_obrigatoria</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">penalidade_nao_cumprimento</span><span class="p">:</span> <span class="nb">str</span>

<span class="k">def</span><span class="w"> </span><span class="nf">construir_tabela_decisao_kyc_avancada</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constrói tabela de decisão para processo KYC (Know Your Customer)</span>
<span class="sd">    considerando múltiplas regulamentações simultâneas.</span>
<span class="sd">    </span>
<span class="sd">    COMPLEXIDADE: Este processo deve atender simultaneamente:</span>
<span class="sd">    - Resolução BACEN sobre identificação de clientes</span>
<span class="sd">    - Instruções CVM para investidores</span>
<span class="sd">    - Regras COAF para prevenção à lavagem de dinheiro</span>
<span class="sd">    - Requisitos LGPD para proteção de dados</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># Condições de entrada</span>
    <span class="n">condicoes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;cliente_pf_ou_pj&quot;</span><span class="p">,</span>           <span class="c1"># Pessoa Física ou Jurídica</span>
        <span class="s2">&quot;valor_movimentacao_mensal&quot;</span><span class="p">,</span>   <span class="c1"># Faixa de movimentação</span>
        <span class="s2">&quot;origem_recursos_declarada&quot;</span><span class="p">,</span>   <span class="c1"># Se origem dos recursos foi informada</span>
        <span class="s2">&quot;documentos_completos&quot;</span><span class="p">,</span>        <span class="c1"># Se todos os documentos foram apresentados</span>
        <span class="s2">&quot;politicamente_exposto&quot;</span><span class="p">,</span>       <span class="c1"># Se é Pessoa Politicamente Exposta (PPE)</span>
        <span class="s2">&quot;pais_alto_risco&quot;</span><span class="p">,</span>            <span class="c1"># Se cliente/operação envolve país de alto risco</span>
        <span class="s2">&quot;atividade_economica_compativel&quot;</span><span class="p">,</span> <span class="c1"># Se atividade econômica é compatível com movimentação</span>
        <span class="s2">&quot;consentimento_lgpd_obtido&quot;</span>    <span class="c1"># Se consentimento LGPD foi coletado adequadamente</span>
    <span class="p">]</span>
    
    <span class="c1"># Ações possíveis</span>
    <span class="n">acoes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;aprovar_cliente_padrao&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aprovar_com_monitoramento_intensificado&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;solicitar_documentacao_adicional&quot;</span><span class="p">,</span>
        <span class="s2">&quot;exigir_declaracao_origem_recursos&quot;</span><span class="p">,</span>
        <span class="s2">&quot;reportar_coaf_operacao_suspeita&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bloquear_abertura_conta&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aplicar_due_diligence_aprimorada&quot;</span><span class="p">,</span>
        <span class="s2">&quot;obter_consentimento_lgpd_adicional&quot;</span>
    <span class="p">]</span>
    
    <span class="c1"># Regras de decisão complexas</span>
    <span class="n">regras_kyc</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;KYC_001&quot;</span><span class="p">,</span>
            <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="s2">&quot;Cliente PF padrão - baixo risco&quot;</span><span class="p">,</span>
            <span class="s2">&quot;condicoes&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;cliente_pf_ou_pj&quot;</span><span class="p">:</span> <span class="s2">&quot;PF&quot;</span><span class="p">,</span>
                <span class="s2">&quot;valor_movimentacao_mensal&quot;</span><span class="p">:</span> <span class="s2">&quot;ate_10k&quot;</span><span class="p">,</span>
                <span class="s2">&quot;origem_recursos_declarada&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;documentos_completos&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;politicamente_exposto&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;pais_alto_risco&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;atividade_economica_compativel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;consentimento_lgpd_obtido&quot;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">},</span>
            <span class="s2">&quot;acoes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;aprovar_cliente_padrao&quot;</span><span class="p">],</span>
            <span class="s2">&quot;regulamentacoes_atendidas&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">BACEN</span><span class="p">,</span> <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">LGPD</span><span class="p">],</span>
            <span class="s2">&quot;nivel_risco&quot;</span><span class="p">:</span> <span class="s2">&quot;BAIXO&quot;</span>
        <span class="p">},</span>
        
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;KYC_002&quot;</span><span class="p">,</span> 
            <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="s2">&quot;Cliente PF - movimentação alta, sem PPE&quot;</span><span class="p">,</span>
            <span class="s2">&quot;condicoes&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;cliente_pf_ou_pj&quot;</span><span class="p">:</span> <span class="s2">&quot;PF&quot;</span><span class="p">,</span>
                <span class="s2">&quot;valor_movimentacao_mensal&quot;</span><span class="p">:</span> <span class="s2">&quot;acima_100k&quot;</span><span class="p">,</span>
                <span class="s2">&quot;origem_recursos_declarada&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;documentos_completos&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;politicamente_exposto&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;pais_alto_risco&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;atividade_economica_compativel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;consentimento_lgpd_obtido&quot;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">},</span>
            <span class="s2">&quot;acoes&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;aprovar_com_monitoramento_intensificado&quot;</span><span class="p">,</span>
                <span class="s2">&quot;exigir_declaracao_origem_recursos&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;regulamentacoes_atendidas&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">BACEN</span><span class="p">,</span> 
                <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">COAF</span><span class="p">,</span>
                <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">LGPD</span>
            <span class="p">],</span>
            <span class="s2">&quot;nivel_risco&quot;</span><span class="p">:</span> <span class="s2">&quot;MEDIO&quot;</span>
        <span class="p">},</span>
        
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;KYC_003&quot;</span><span class="p">,</span>
            <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="s2">&quot;Cliente PPE - Due Diligence Aprimorada obrigatória&quot;</span><span class="p">,</span>
            <span class="s2">&quot;condicoes&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;cliente_pf_ou_pj&quot;</span><span class="p">:</span> <span class="s2">&quot;PF&quot;</span><span class="p">,</span>
                <span class="s2">&quot;valor_movimentacao_mensal&quot;</span><span class="p">:</span> <span class="s2">&quot;qualquer&quot;</span><span class="p">,</span>
                <span class="s2">&quot;origem_recursos_declarada&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;documentos_completos&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;politicamente_exposto&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;pais_alto_risco&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;atividade_economica_compativel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;consentimento_lgpd_obtido&quot;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">},</span>
            <span class="s2">&quot;acoes&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;aplicar_due_diligence_aprimorada&quot;</span><span class="p">,</span>
                <span class="s2">&quot;aprovar_com_monitoramento_intensificado&quot;</span><span class="p">,</span>
                <span class="s2">&quot;solicitar_documentacao_adicional&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;regulamentacoes_atendidas&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">BACEN</span><span class="p">,</span>
                <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">COAF</span><span class="p">,</span>
                <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">LGPD</span>
            <span class="p">],</span>
            <span class="s2">&quot;nivel_risco&quot;</span><span class="p">:</span> <span class="s2">&quot;ALTO&quot;</span><span class="p">,</span>
            <span class="s2">&quot;prazo_analise_dias&quot;</span><span class="p">:</span> <span class="mi">30</span>  <span class="c1"># PPE tem prazo diferenciado</span>
        <span class="p">},</span>
        
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;KYC_004&quot;</span><span class="p">,</span>
            <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="s2">&quot;Operação suspeita - múltiplos indicadores de risco&quot;</span><span class="p">,</span>
            <span class="s2">&quot;condicoes&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;cliente_pf_ou_pj&quot;</span><span class="p">:</span> <span class="s2">&quot;qualquer&quot;</span><span class="p">,</span>
                <span class="s2">&quot;valor_movimentacao_mensal&quot;</span><span class="p">:</span> <span class="s2">&quot;acima_100k&quot;</span><span class="p">,</span>
                <span class="s2">&quot;origem_recursos_declarada&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;documentos_completos&quot;</span><span class="p">:</span> <span class="s2">&quot;parcial&quot;</span><span class="p">,</span>
                <span class="s2">&quot;politicamente_exposto&quot;</span><span class="p">:</span> <span class="s2">&quot;nao_informado&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pais_alto_risco&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;atividade_economica_compativel&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;consentimento_lgpd_obtido&quot;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">},</span>
            <span class="s2">&quot;acoes&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;bloquear_abertura_conta&quot;</span><span class="p">,</span>
                <span class="s2">&quot;reportar_coaf_operacao_suspeita&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;regulamentacoes_atendidas&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">BACEN</span><span class="p">,</span>
                <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">COAF</span>
            <span class="p">],</span>
            <span class="s2">&quot;nivel_risco&quot;</span><span class="p">:</span> <span class="s2">&quot;CRITICO&quot;</span><span class="p">,</span>
            <span class="s2">&quot;reportar_autoridades&quot;</span><span class="p">:</span> <span class="kc">True</span>
        <span class="p">},</span>
        
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;KYC_005&quot;</span><span class="p">,</span>
            <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="s2">&quot;Falha LGPD - consentimento inadequado&quot;</span><span class="p">,</span>
            <span class="s2">&quot;condicoes&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;cliente_pf_ou_pj&quot;</span><span class="p">:</span> <span class="s2">&quot;PF&quot;</span><span class="p">,</span>
                <span class="s2">&quot;valor_movimentacao_mensal&quot;</span><span class="p">:</span> <span class="s2">&quot;qualquer&quot;</span><span class="p">,</span>
                <span class="s2">&quot;origem_recursos_declarada&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;documentos_completos&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;politicamente_exposto&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;pais_alto_risco&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;atividade_economica_compativel&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;consentimento_lgpd_obtido&quot;</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">},</span>
            <span class="s2">&quot;acoes&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;obter_consentimento_lgpd_adicional&quot;</span><span class="p">,</span>
                <span class="s2">&quot;bloquear_abertura_conta&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;regulamentacoes_atendidas&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">LGPD</span><span class="p">],</span>
            <span class="s2">&quot;nivel_risco&quot;</span><span class="p">:</span> <span class="s2">&quot;BLOQUEANTE&quot;</span><span class="p">,</span>
            <span class="s2">&quot;motivo_bloqueio&quot;</span><span class="p">:</span> <span class="s2">&quot;Não conformidade LGPD&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
    
    <span class="k">return</span> <span class="n">regras_kyc</span>

<span class="k">def</span><span class="w"> </span><span class="nf">validar_conformidade_regulatoria</span><span class="p">(</span><span class="n">regras_kyc</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Valida se as regras de decisão atendem aos requisitos regulatórios.</span>
<span class="sd">    </span>
<span class="sd">    OBJETIVO: Garantir que todas as combinações críticas de condições</span>
<span class="sd">    tenham ações apropriadas conforme regulamentação aplicável.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">problemas_encontrados</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;cobertura_incompleta&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;acoes_insuficientes&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;conflitos_regulatorios&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>
    
    <span class="c1"># Verifica cobertura de cenários críticos obrigatórios</span>
    <span class="n">cenarios_obrigatorios</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;politicamente_exposto&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="s2">&quot;PPE deve ter due diligence aprimorada&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;pais_alto_risco&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="s2">&quot;País alto risco requer monitoramento especial&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;consentimento_lgpd_obtido&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;descricao&quot;</span><span class="p">:</span> <span class="s2">&quot;Falta de consentimento LGPD deve bloquear&quot;</span><span class="p">}</span>
    <span class="p">]</span>
    
    <span class="k">for</span> <span class="n">cenario</span> <span class="ow">in</span> <span class="n">cenarios_obrigatorios</span><span class="p">:</span>
        <span class="n">regras_aplicaveis</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">regras_kyc</span> 
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s2">&quot;condicoes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">==</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cenario</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s2">&quot;descricao&quot;</span><span class="p">)</span>
        <span class="p">]</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">regras_aplicaveis</span><span class="p">:</span>
            <span class="n">problemas_encontrados</span><span class="p">[</span><span class="s2">&quot;cobertura_incompleta&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cenário obrigatório não coberto: </span><span class="si">{</span><span class="n">cenario</span><span class="p">[</span><span class="s1">&#39;descricao&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
    
    <span class="c1"># Verifica se ações são adequadas para cada nível de risco</span>
    <span class="k">for</span> <span class="n">regra</span> <span class="ow">in</span> <span class="n">regras_kyc</span><span class="p">:</span>
        <span class="n">nivel_risco</span> <span class="o">=</span> <span class="n">regra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nivel_risco&quot;</span><span class="p">,</span> <span class="s2">&quot;DESCONHECIDO&quot;</span><span class="p">)</span>
        <span class="n">acoes</span> <span class="o">=</span> <span class="n">regra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;acoes&quot;</span><span class="p">,</span> <span class="p">[])</span>
        
        <span class="k">if</span> <span class="n">nivel_risco</span> <span class="o">==</span> <span class="s2">&quot;CRITICO&quot;</span> <span class="ow">and</span> <span class="s2">&quot;reportar_coaf_operacao_suspeita&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">acoes</span><span class="p">:</span>
            <span class="n">problemas_encontrados</span><span class="p">[</span><span class="s2">&quot;acoes_insuficientes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Regra </span><span class="si">{</span><span class="n">regra</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: Risco crítico sem reporte ao COAF&quot;</span>
            <span class="p">)</span>
        
        <span class="k">if</span> <span class="n">nivel_risco</span> <span class="o">==</span> <span class="s2">&quot;ALTO&quot;</span> <span class="ow">and</span> <span class="s2">&quot;aplicar_due_diligence_aprimorada&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">acoes</span><span class="p">:</span>
            <span class="n">problemas_encontrados</span><span class="p">[</span><span class="s2">&quot;acoes_insuficientes&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Regra </span><span class="si">{</span><span class="n">regra</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: Alto risco sem due diligence aprimorada&quot;</span>
            <span class="p">)</span>
    
    <span class="k">return</span> <span class="n">problemas_encontrados</span>

<span class="k">def</span><span class="w"> </span><span class="nf">gerar_casos_teste_compliance</span><span class="p">(</span><span class="n">regras_kyc</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gera casos de teste específicos para validar conformidade regulatória.</span>
<span class="sd">    </span>
<span class="sd">    DIFERENCIAL: Além de testar a lógica de negócio, valida se as ações</span>
<span class="sd">    tomadas atendem aos requisitos específicos de cada regulamentação.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="n">casos_teste_compliance</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">regra</span> <span class="ow">in</span> <span class="n">regras_kyc</span><span class="p">:</span>
        <span class="n">caso_teste</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;TC_COMPLIANCE_</span><span class="si">{</span><span class="n">regra</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;nome&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Teste de conformidade - </span><span class="si">{</span><span class="n">regra</span><span class="p">[</span><span class="s1">&#39;descricao&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;dados_entrada&quot;</span><span class="p">:</span> <span class="n">regra</span><span class="p">[</span><span class="s2">&quot;condicoes&quot;</span><span class="p">],</span>
            <span class="s2">&quot;acoes_esperadas&quot;</span><span class="p">:</span> <span class="n">regra</span><span class="p">[</span><span class="s2">&quot;acoes&quot;</span><span class="p">],</span>
            <span class="s2">&quot;validacoes_regulatorias&quot;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
        
        <span class="c1"># Adiciona validações específicas por regulamentação</span>
        <span class="k">for</span> <span class="n">regulamentacao</span> <span class="ow">in</span> <span class="n">regra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;regulamentacoes_atendidas&quot;</span><span class="p">,</span> <span class="p">[]):</span>
            <span class="k">if</span> <span class="n">regulamentacao</span> <span class="o">==</span> <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">BACEN</span><span class="p">:</span>
                <span class="n">caso_teste</span><span class="p">[</span><span class="s2">&quot;validacoes_regulatorias&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="s2">&quot;Verificar conformidade com Resolução BACEN sobre identificação de clientes&quot;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">regulamentacao</span> <span class="o">==</span> <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">COAF</span><span class="p">:</span>
                <span class="n">caso_teste</span><span class="p">[</span><span class="s2">&quot;validacoes_regulatorias&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="s2">&quot;Verificar se suspeitas foram adequadamente reportadas ao COAF&quot;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">regulamentacao</span> <span class="o">==</span> <span class="n">TipoRegulamentacao</span><span class="o">.</span><span class="n">LGPD</span><span class="p">:</span>
                <span class="n">caso_teste</span><span class="p">[</span><span class="s2">&quot;validacoes_regulatorias&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="s2">&quot;Verificar conformidade com princípios LGPD de consentimento e finalidade&quot;</span>
                <span class="p">)</span>
        
        <span class="c1"># Adiciona validações de auditoria</span>
        <span class="n">caso_teste</span><span class="p">[</span><span class="s2">&quot;rastro_auditoria&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;logs_obrigatorios&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;decisao_tomada&quot;</span><span class="p">,</span>
                <span class="s2">&quot;regulamentacoes_aplicadas&quot;</span><span class="p">,</span> 
                <span class="s2">&quot;justificativa_acao&quot;</span><span class="p">,</span>
                <span class="s2">&quot;timestamp_decisao&quot;</span><span class="p">,</span>
                <span class="s2">&quot;usuario_responsavel&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;retencao_dados&quot;</span><span class="p">:</span> <span class="s2">&quot;5_anos_minimo&quot;</span>  <span class="c1"># Conforme regulamentação bancária</span>
        <span class="p">}</span>
        
        <span class="n">casos_teste_compliance</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caso_teste</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">casos_teste_compliance</span>
</pre></div>
</div>
</section>
</section>
<section id="analise-de-performance-e-otimizacao">
<h3>4.3. Análise de Performance e Otimização<a class="headerlink" href="#analise-de-performance-e-otimizacao" title="Link to this heading">#</a></h3>
<p>A eficiência das técnicas de teste funcional não se mede apenas pela quantidade de defeitos encontrados, mas também pela <strong>economia de recursos</strong> (tempo, pessoas, infraestrutura) e pela <strong>velocidade de feedback</strong> no ciclo de desenvolvimento. Esta seção explora métricas avançadas e estratégias de otimização.</p>
<section id="metricas-de-eficacia-das-tecnicas-funcionais">
<h4>Métricas de Eficácia das Técnicas Funcionais<a class="headerlink" href="#metricas-de-eficacia-das-tecnicas-funcionais" title="Link to this heading">#</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># SISTEMA DE MÉTRICAS PARA TÉCNICAS DE TESTE FUNCIONAL</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statistics</span>

<span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MetricaEficacia</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Representa métricas de eficácia de uma técnica de teste específica.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tecnica</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">casos_executados</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">defeitos_encontrados</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">tempo_execucao_total</span><span class="p">:</span> <span class="n">timedelta</span>
    <span class="n">custo_execucao</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">cobertura_alcancada</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">taxa_falsos_positivos</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">severidade_defeitos</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
<span class="k">def</span><span class="w"> </span><span class="nf">calcular_eficiencia_por_tecnica</span><span class="p">(</span><span class="n">metricas</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">MetricaEficacia</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Calcula métricas comparativas de eficiência entre técnicas.</span>
<span class="sd">    </span>
<span class="sd">    MÉTRICAS CALCULADAS:</span>
<span class="sd">    1. Defeitos por Hora (DPH): defeitos_encontrados / horas_execucao</span>
<span class="sd">    resultado = {}</span>
<span class="sd">    </span>
<span class="sd">    for metrica in metricas:</span>
<span class="sd">        horas_execucao = metrica.tempo_execucao_total.total_seconds() / 3600</span>
<span class="sd">        </span>
<span class="sd">        # Evita divisão por zero</span>
<span class="sd">        if horas_execucao == 0 or metrica.defeitos_encontrados == 0:</span>
<span class="sd">            &quot;defeitos_por_hora&quot;: metrica.defeitos_encontrados / horas_execucao,</span>
<span class="sd">            &quot;custo_por_defeito&quot;: metrica.custo_execucao / metrica.defeitos_encontrados,</span>
<span class="sd">            &quot;roi_teste&quot;: (valor_defeitos - metrica.custo_execucao) / metrica.custo_execucao,</span>
<span class="sd">        </span>
<span class="sd">        resultado[metrica.tecnica] = eficiencia</span>
<span class="sd">    </span>
<span class="sd">    return resultado</span>

<span class="sd">def calcular_valor_defeitos(severidades: List[str]) -&gt; float:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">Estima</span> <span class="n">o</span> <span class="n">valor</span> <span class="n">econômico</span> <span class="n">dos</span> <span class="n">defeitos</span> <span class="n">encontrados</span> <span class="n">baseado</span> <span class="n">na</span> <span class="n">severidade</span><span class="o">.</span>
    
    <span class="n">VALORES</span> <span class="n">ESTIMADOS</span> <span class="p">(</span><span class="n">baseados</span> <span class="n">em</span> <span class="n">estudos</span> <span class="n">de</span> <span class="n">mercado</span><span class="p">):</span>
    <span class="o">-</span> <span class="n">Crítico</span><span class="p">:</span> <span class="n">R</span><span class="err">$</span> <span class="mf">50.000</span> <span class="p">(</span><span class="n">parada</span> <span class="n">de</span> <span class="n">produção</span><span class="p">,</span> <span class="n">perda</span> <span class="n">de</span> <span class="n">dados</span><span class="p">)</span>
    <span class="o">-</span> <span class="n">Alto</span><span class="p">:</span> <span class="n">R</span><span class="err">$</span> <span class="mf">10.000</span> <span class="p">(</span><span class="n">funcionalidade</span> <span class="n">principal</span> <span class="n">comprometida</span><span class="p">)</span>
    <span class="o">-</span> <span class="n">Médio</span><span class="p">:</span> <span class="n">R</span><span class="err">$</span> <span class="mf">2.000</span> <span class="p">(</span><span class="n">inconveniência</span> <span class="n">ao</span> <span class="n">usuário</span><span class="p">)</span>
    <span class="o">-</span> <span class="n">Baixo</span><span class="p">:</span> <span class="n">R</span><span class="err">$</span> <span class="mi">500</span> <span class="p">(</span><span class="n">problema</span> <span class="n">cosmético</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    </span>
<span class="sd">    valores_severidade = {</span>
<span class="sd">        &quot;critico&quot;: 50000,</span>
<span class="sd">        &quot;medio&quot;: 2000,</span>
<span class="sd">        &quot;baixo&quot;: 500</span>
<span class="sd">    }</span>
<span class="sd">    </span>
<span class="sd">    valor_total = 0</span>
<span class="sd">    for severidade in severidades:</span>
<span class="sd">        valor_total += valores_severidade.get(severidade.lower(), 0)</span>
<span class="sd">    </span>
<span class="sd">    return valor_total</span>
<span class="sd">def otimizar_mix_tecnicas(historico_projeto: List[MetricaEficacia], </span>
<span class="sd">                         orcamento_disponivel: float,</span>
<span class="sd">                         tempo_disponivel: timedelta) -&gt; Dict[str, int]:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">Otimiza</span> <span class="n">a</span> <span class="n">combinação</span> <span class="n">de</span> <span class="n">técnicas</span> <span class="n">para</span> <span class="n">maximizar</span> <span class="n">defeitos</span> <span class="n">encontrados</span>
    <span class="n">dentro</span> <span class="n">das</span> <span class="n">restrições</span> <span class="n">de</span> <span class="n">orçamento</span> <span class="n">e</span> <span class="n">tempo</span><span class="o">.</span>
    
    <span class="n">ALGORITMO</span><span class="p">:</span> <span class="n">Programação</span> <span class="n">linear</span> <span class="n">simplificada</span> <span class="n">baseada</span> <span class="n">em</span> <span class="n">ROI</span> <span class="n">histórico</span><span class="o">.</span>
    <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    </span>
<span class="s2">    eficiencias = calcular_eficiencia_por_tecnica(historico_projeto)</span>
<span class="s2">    </span>
<span class="s2">    # Ordena técnicas por ROI</span>
<span class="s2">    tecnicas_ordenadas = sorted(</span>
<span class="s2">        eficiencias.items(), </span>
<span class="s2">        key=lambda x: x[1][&quot;roi_teste&quot;], </span>
<span class="s2">        reverse=True</span>
<span class="s2">    )</span>
<span class="s2">    </span>
<span class="s2">    # Algoritmo guloso: aloca recursos para técnicas de maior ROI primeiro</span>
<span class="s2">    alocacao_otima = </span><span class="si">{}</span>
<span class="s2">    orcamento_restante = orcamento_disponivel</span>
<span class="s2">    tempo_restante = tempo_disponivel.total_seconds() / 3600  # em horas</span>
<span class="s2">    </span>
<span class="s2">    for tecnica, metricas in tecnicas_ordenadas:</span>
<span class="s2">        # Encontra dados históricos da técnica</span>
<span class="s2">        dados_historicos = next(</span>
<span class="s2">            (m for m in historico_projeto if m.tecnica == tecnica), </span>
<span class="s2">            None</span>
<span class="s2">        )</span>
<span class="s2">        </span>
<span class="s2">        if not dados_historicos:</span>
<span class="s2">            continue</span>
<span class="s2">        </span>
<span class="s2">        # Calcula custo médio e tempo médio por caso de teste</span>
<span class="s2">        custo_por_caso = dados_historicos.custo_execucao / dados_historicos.casos_executados</span>
<span class="s2">        tempo_por_caso = (dados_historicos.tempo_execucao_total.total_seconds() / 3600) / dados_historicos.casos_executados</span>
<span class="s2">        </span>
<span class="s2">        # Calcula quantos casos de teste podemos executar desta técnica</span>
<span class="s2">        casos_por_orcamento = int(orcamento_restante / custo_por_caso)</span>
<span class="s2">        casos_por_tempo = int(tempo_restante / tempo_por_caso)</span>
<span class="s2">        casos_possiveis = min(casos_por_orcamento, casos_por_tempo)</span>
<span class="s2">        </span>
<span class="s2">        if casos_possiveis &gt; 0:</span>
<span class="s2">            alocacao_otima[tecnica] = casos_possiveis</span>
<span class="s2">            orcamento_restante -= casos_possiveis * custo_por_caso</span>
<span class="s2">            tempo_restante -= casos_possiveis * tempo_por_caso</span>
<span class="s2">    </span>
<span class="s2">    return alocacao_otima</span>
</pre></div>
</div>
</section>
<section id="estrategias-de-paralelizacao-e-otimizacao">
<h4>Estratégias de Paralelização e Otimização<a class="headerlink" href="#estrategias-de-paralelizacao-e-otimizacao" title="Link to this heading">#</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># OTIMIZAÇÃO AVANÇADA DE EXECUÇÃO DE TESTES FUNCIONAIS</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">concurrent.futures</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>

<span class="k">class</span><span class="w"> </span><span class="nc">GerenciadorExecucaoOtimizada</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gerencia execução otimizada de casos de teste funcionais com</span>
<span class="sd">    estratégias avançadas de paralelização e cache inteligente.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_workers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_workers</span> <span class="o">=</span> <span class="n">max_workers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_resultados</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">historico_tempos</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">registrar_dependencia</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caso_dependente</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">caso_prerequisito</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Registra dependências entre casos de teste para otimizar ordem de execução.</span>
<span class="sd">        </span>
<span class="sd">        EXEMPLO: Casos de teste de &quot;logout&quot; dependem de casos de &quot;login&quot; bem-sucedidos.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">caso_dependente</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span><span class="p">[</span><span class="n">caso_dependente</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span><span class="p">[</span><span class="n">caso_dependente</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caso_prerequisito</span><span class="p">)</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">otimizar_ordem_execucao</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">casos_teste</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Otimiza ordem de execução baseada em:</span>
<span class="sd">        1. Dependências entre casos</span>
<span class="sd">        2. Tempo histórico de execução (mais rápidos primeiro)</span>
<span class="sd">        3. Probabilidade de falha (mais prováveis primeiro para feedback rápido)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c1"># Separar casos por dependências</span>
        <span class="n">casos_independentes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">casos_dependentes</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">caso</span> <span class="ow">in</span> <span class="n">casos_teste</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">caso</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span><span class="p">:</span>
                <span class="n">casos_dependentes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">casos_independentes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
        
        <span class="c1"># Ordenar independentes por tempo de execução (rápidos primeiro)</span>
        <span class="n">casos_independentes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">historico_tempos</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">))</span>
        <span class="p">)</span>
        
        <span class="c1"># Resolver ordem dos dependentes usando ordenação topológica</span>
        <span class="n">casos_dependentes_ordenados</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ordenacao_topologica</span><span class="p">(</span><span class="n">casos_dependentes</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">casos_independentes</span> <span class="o">+</span> <span class="n">casos_dependentes_ordenados</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_ordenacao_topologica</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">casos_dependentes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implementa ordenação topológica para resolver dependências.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Simplificação: ordena por número de dependências (menos dependentes primeiro)</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="n">casos_dependentes</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="p">[]))</span>
        <span class="p">)</span>
    
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">executar_casos_otimizado</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">casos_teste</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executa casos de teste com otimizações avançadas:</span>
<span class="sd">        1. Paralelização inteligente respeitando dependências</span>
<span class="sd">        2. Cache de resultados para casos idênticos</span>
<span class="sd">        3. Fail-fast para feedback rápido</span>
<span class="sd">        4. Load balancing baseado na complexidade dos casos</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">casos_ordenados</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">otimizar_ordem_execucao</span><span class="p">(</span><span class="n">casos_teste</span><span class="p">)</span>
        <span class="n">resultados</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1"># Grupo 1: Executa casos independentes em paralelo</span>
        <span class="n">casos_independentes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">casos_ordenados</span> 
            <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span>
        <span class="p">]</span>
        
        <span class="k">if</span> <span class="n">casos_independentes</span><span class="p">:</span>
            <span class="n">resultados_paralelos</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_executar_paralelo</span><span class="p">(</span><span class="n">casos_independentes</span><span class="p">)</span>
            <span class="n">resultados</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">resultados_paralelos</span><span class="p">)</span>
        
        <span class="c1"># Grupo 2: Executa casos dependentes sequencialmente conforme dependências</span>
        <span class="n">casos_dependentes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">casos_ordenados</span> 
            <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span>
        <span class="p">]</span>
        
        <span class="k">for</span> <span class="n">caso</span> <span class="ow">in</span> <span class="n">casos_dependentes</span><span class="p">:</span>
            <span class="c1"># Verifica se todas as dependências foram satisfeitas</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dependencias_satisfeitas</span><span class="p">(</span><span class="n">caso</span><span class="p">,</span> <span class="n">resultados</span><span class="p">):</span>
                <span class="n">resultado</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_executar_caso_individual</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
                <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Marca como pulado devido a dependência falhada</span>
                <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s2">&quot;caso_id&quot;</span><span class="p">:</span> <span class="n">caso</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
                    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;PULADO&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;motivo&quot;</span><span class="p">:</span> <span class="s2">&quot;Dependência não satisfeita&quot;</span>
                <span class="p">})</span>
        
        <span class="k">return</span> <span class="n">resultados</span>
    
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_executar_paralelo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">casos</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executa casos de teste em paralelo com load balancing inteligente.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Agrupa casos por complexidade estimada</span>
        <span class="n">grupos_complexidade</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_agrupar_por_complexidade</span><span class="p">(</span><span class="n">casos</span><span class="p">)</span>
        
        <span class="c1"># Executa grupos em ondas para evitar sobrecarga</span>
        <span class="n">resultados</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">grupo</span> <span class="ow">in</span> <span class="n">grupos_complexidade</span><span class="p">:</span>
            <span class="c1"># Limita paralelismo baseado na complexidade do grupo</span>
            <span class="n">max_paralelo</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_workers</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">grupo</span><span class="p">))</span>
            
            <span class="n">semaforo</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Semaphore</span><span class="p">(</span><span class="n">max_paralelo</span><span class="p">)</span>
            
            <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">executar_com_limite</span><span class="p">(</span><span class="n">caso</span><span class="p">):</span>
                <span class="k">async</span> <span class="k">with</span> <span class="n">semaforo</span><span class="p">:</span>
                    <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_executar_caso_individual</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
            
            <span class="c1"># Executa grupo atual</span>
            <span class="n">tarefas</span> <span class="o">=</span> <span class="p">[</span><span class="n">executar_com_limite</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span> <span class="k">for</span> <span class="n">caso</span> <span class="ow">in</span> <span class="n">grupo</span><span class="p">]</span>
            <span class="n">resultados_grupo</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">tarefas</span><span class="p">,</span> <span class="n">return_exceptions</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            
            <span class="c1"># Processa resultados, convertendo exceções em falhas</span>
            <span class="k">for</span> <span class="n">resultado</span> <span class="ow">in</span> <span class="n">resultados_grupo</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resultado</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span>
                    <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ERRO&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;erro&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
                    <span class="p">})</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">resultados</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_agrupar_por_complexidade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">casos</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Agrupa casos por complexidade estimada para balanceamento de carga.</span>
<span class="sd">        </span>
<span class="sd">        HEURÍSTICAS DE COMPLEXIDADE:</span>
<span class="sd">        1. Número de passos no caso de teste</span>
<span class="sd">        2. Uso de dados externos (APIs, banco de dados)</span>
<span class="sd">        3. Tempo histórico de execução</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">def</span><span class="w"> </span><span class="nf">estimar_complexidade</span><span class="p">(</span><span class="n">caso</span><span class="p">):</span>
            <span class="n">complexidade</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Base</span>
            
            <span class="c1"># Fator por número de passos</span>
            <span class="n">complexidade</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">caso</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;passos&quot;</span><span class="p">,</span> <span class="p">[]))</span>
            
            <span class="c1"># Fator por uso de recursos externos</span>
            <span class="k">if</span> <span class="n">caso</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;usa_api_externa&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                <span class="n">complexidade</span> <span class="o">+=</span> <span class="mi">3</span>
            <span class="k">if</span> <span class="n">caso</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;usa_banco_dados&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                <span class="n">complexidade</span> <span class="o">+=</span> <span class="mi">2</span>
            
            <span class="c1"># Fator por tempo histórico</span>
            <span class="n">tempo_historico</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">historico_tempos</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">caso</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="mf">1.0</span><span class="p">)</span>
            <span class="n">complexidade</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">tempo_historico</span> <span class="o">/</span> <span class="mi">10</span><span class="p">)</span>  <span class="c1"># 10 segundos = +1 complexidade</span>
            
            <span class="k">return</span> <span class="n">complexidade</span>
        
        <span class="c1"># Categoriza em grupos de complexidade</span>
        <span class="n">baixa_complexidade</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">media_complexidade</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">alta_complexidade</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">caso</span> <span class="ow">in</span> <span class="n">casos</span><span class="p">:</span>
            <span class="n">complexidade</span> <span class="o">=</span> <span class="n">estimar_complexidade</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">complexidade</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">baixa_complexidade</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">complexidade</span> <span class="o">&lt;=</span> <span class="mi">7</span><span class="p">:</span>
                <span class="n">media_complexidade</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">alta_complexidade</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
        
        <span class="c1"># Retorna grupos na ordem: baixa -&gt; média -&gt; alta</span>
        <span class="c1"># (executa casos simples primeiro para feedback rápido)</span>
        <span class="n">grupos</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">baixa_complexidade</span><span class="p">:</span>
            <span class="n">grupos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">baixa_complexidade</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">media_complexidade</span><span class="p">:</span>
            <span class="n">grupos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">media_complexidade</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">alta_complexidade</span><span class="p">:</span>
            <span class="n">grupos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">alta_complexidade</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">grupos</span>
    
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_executar_caso_individual</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caso</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executa um caso de teste individual com cache inteligente.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">caso_id</span> <span class="o">=</span> <span class="n">caso</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
        
        <span class="c1"># Verifica cache</span>
        <span class="n">hash_caso</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calcular_hash_caso</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hash_caso</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_resultados</span><span class="p">:</span>
            <span class="n">resultado_cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_resultados</span><span class="p">[</span><span class="n">hash_caso</span><span class="p">]</span>
            <span class="n">resultado_cache</span><span class="p">[</span><span class="s2">&quot;usado_cache&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="n">resultado_cache</span>
        
        <span class="c1"># Executa caso</span>
        <span class="n">inicio</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Simula execução do caso de teste</span>
            <span class="n">resultado</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_simular_execucao_caso</span><span class="p">(</span><span class="n">caso</span><span class="p">)</span>
            <span class="n">tempo_execucao</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">inicio</span>
            
            <span class="c1"># Atualiza histórico de tempos</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">historico_tempos</span><span class="p">[</span><span class="n">caso_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">tempo_execucao</span>
            
            <span class="c1"># Salva no cache se não houve erro</span>
            <span class="k">if</span> <span class="n">resultado</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cache_resultados</span><span class="p">[</span><span class="n">hash_caso</span><span class="p">]</span> <span class="o">=</span> <span class="n">resultado</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            
            <span class="n">resultado</span><span class="p">[</span><span class="s2">&quot;tempo_execucao&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tempo_execucao</span>
            <span class="n">resultado</span><span class="p">[</span><span class="s2">&quot;usado_cache&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
            
            <span class="k">return</span> <span class="n">resultado</span>
            
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;caso_id&quot;</span><span class="p">:</span> <span class="n">caso_id</span><span class="p">,</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ERRO&quot;</span><span class="p">,</span>
                <span class="s2">&quot;erro&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                <span class="s2">&quot;tempo_execucao&quot;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">inicio</span><span class="p">,</span>
                <span class="s2">&quot;usado_cache&quot;</span><span class="p">:</span> <span class="kc">False</span>
            <span class="p">}</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_calcular_hash_caso</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caso</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calcula hash único do caso de teste para cache.</span>
<span class="sd">        Considera dados de entrada e configuração, mas não dados variáveis como timestamps.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">hashlib</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
        
        <span class="c1"># Extrai apenas campos relevantes para determinismo</span>
        <span class="n">campos_relevantes</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">caso</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">),</span>
            <span class="s2">&quot;dados_entrada&quot;</span><span class="p">:</span> <span class="n">caso</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dados_entrada&quot;</span><span class="p">),</span>
            <span class="s2">&quot;configuracao&quot;</span><span class="p">:</span> <span class="n">caso</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;configuracao&quot;</span><span class="p">)</span>
        <span class="p">}</span>
        
        <span class="n">caso_str</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">campos_relevantes</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">(</span><span class="n">caso_str</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
    
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_simular_execucao_caso</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caso</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Simula execução de um caso de teste.</span>
<span class="sd">        Em implementação real, aqui seria feita a execução efetiva.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Simula tempo de execução variável</span>
        <span class="n">tempo_simulado</span> <span class="o">=</span> <span class="n">caso</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tempo_estimado&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">tempo_simulado</span><span class="p">)</span>
        
        <span class="c1"># Simula resultado baseado na complexidade</span>
        <span class="n">complexidade</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">caso</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;passos&quot;</span><span class="p">,</span> <span class="p">[]))</span>
        
        <span class="c1"># Casos mais complexos têm maior chance de falha</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
        <span class="n">chance_falha</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">complexidade</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">chance_falha</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;caso_id&quot;</span><span class="p">:</span> <span class="n">caso</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;FALHA&quot;</span><span class="p">,</span>
                <span class="s2">&quot;defeito_encontrado&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Defeito simulado no caso </span><span class="si">{</span><span class="n">caso</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;caso_id&quot;</span><span class="p">:</span> <span class="n">caso</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
                <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;SUCESSO&quot;</span>
            <span class="p">}</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_dependencias_satisfeitas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caso</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">resultados_anteriores</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Verifica se todas as dependências de um caso foram satisfeitas.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dependencias</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencias_casos</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">caso</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="p">[])</span>
        
        <span class="k">for</span> <span class="n">dependencia</span> <span class="ow">in</span> <span class="n">dependencias</span><span class="p">:</span>
            <span class="c1"># Busca resultado da dependência</span>
            <span class="n">resultado_dep</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span>
                <span class="p">(</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">resultados_anteriores</span> <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;caso_id&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">dependencia</span><span class="p">),</span>
                <span class="kc">None</span>
            <span class="p">)</span>
            
            <span class="c1"># Se dependência não foi executada ou falhou, não pode prosseguir</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">resultado_dep</span> <span class="ow">or</span> <span class="n">resultado_dep</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;SUCESSO&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>
        
        <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
</section>
</section>
<hr class="docutils" />
<section id="sintese-e-perspectivas-futuras">
<h2>5. Síntese e Perspectivas Futuras<a class="headerlink" href="#sintese-e-perspectivas-futuras" title="Link to this heading">#</a></h2>
<section id="conexoes-com-outras-areas-da-computacao">
<h3>5.1. Conexões com Outras Áreas da Computação<a class="headerlink" href="#conexoes-com-outras-areas-da-computacao" title="Link to this heading">#</a></h3>
<p>O teste funcional (caixa-preta) conecta-se diretamente com áreas como Engenharia de Requisitos, Qualidade de Software, Segurança, DevOps, Inteligência Artificial e UX. Técnicas de modelagem de casos de uso, análise de valor limite e máquinas de estado são empregadas em validação de sistemas críticos, automação de processos, e até em testes de sistemas embarcados e IoT.</p>
</section>
<section id="a-fronteira-da-pesquisa-e-o-futuro">
<h3>5.2. A Fronteira da Pesquisa e o Futuro<a class="headerlink" href="#a-fronteira-da-pesquisa-e-o-futuro" title="Link to this heading">#</a></h3>
<p>O futuro dos testes funcionais está fortemente ligado à automação inteligente, uso de IA para geração e priorização de casos de teste, testes em ambientes cloud-native, e integração contínua. Tendências incluem:</p>
<ul class="simple">
<li><p>Testes baseados em modelos formais e mutação</p></li>
<li><p>Ferramentas de compliance dinâmico</p></li>
<li><p>Testes de experiência do usuário (UX) automatizados</p></li>
<li><p>Observabilidade e rastreabilidade em pipelines CI/CD</p></li>
<li><p>Testes adaptativos para sistemas autônomos e distribuídos</p></li>
</ul>
</section>
<section id="resumo-do-capitulo-e-mapa-mental">
<h3>5.3. Resumo do Capítulo e Mapa Mental<a class="headerlink" href="#resumo-do-capitulo-e-mapa-mental" title="Link to this heading">#</a></h3>
<p>Este capítulo abordou:</p>
<ul class="simple">
<li><p>Fundamentos e técnicas clássicas de teste funcional</p></li>
<li><p>Aplicação prática em sistemas bancários e APIs</p></li>
<li><p>Desafios avançados, compliance e otimização</p></li>
<li><p>Métricas, estratégias de automação e paralelização</p></li>
</ul>
<p><strong>Mapa Mental:</strong></p>
<pre  class="mermaid">
        mindmap
  root((Teste Funcional))
    Fundamentos
      Particionamento de Equivalência
      Valor Limite
      Tabelas de Decisão
      Máquinas de Estado
      Casos de Uso
    Prática
      Estudo de Caso
      Exemplos Python
      Ferramentas
    Avançado
      Compliance
      Performance
      Otimização
    Futuro
      IA
      Cloud
      UX
      Modelos Formais
    </pre></section>
<section id="referencias-e-leituras-adicionais">
<h3>5.4. Referências e Leituras Adicionais<a class="headerlink" href="#referencias-e-leituras-adicionais" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Myers, G. J., Sandler, C., Badgett, T. “The Art of Software Testing”</p></li>
<li><p>Ammann, P., Offutt, J. “Introduction to Software Testing”</p></li>
<li><p>IEEE Std 829-2008: Standard for Software and System Test Documentation</p></li>
<li><p>SBQS – Simpósio Brasileiro de Qualidade de Software</p></li>
<li><p>ICST – International Conference on Software Testing</p></li>
<li><p>Documentação oficial do Pytest, Robot Framework, GraphWalker</p></li>
<li><p>Artigos recentes sobre automação de testes, IA e DevOps</p></li>
</ul>
<hr class="docutils" />
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs/aulas/aula-06-08-tecnicas-teste-funcional-caixa-preta"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>
    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../aula-05-casos-teste-criterios/README.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Casos de Teste e Critérios</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sumario-completo">Sumário Completo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#abertura-e-engajamento">1. Abertura e Engajamento</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#problema-motivador-o-desafio-da-validacao-em-sistemas-criticos">1.1. Problema Motivador: O Desafio da Validação em Sistemas Críticos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contexto-historico-e-relevancia-atual">1.2. Contexto Histórico e Relevância Atual</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fundamentos-teoricos">2. Fundamentos Teóricos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#particionamento-de-equivalencia">2.1. Particionamento de Equivalência</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#terminologia-essencial-e-definicoes-formais">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estrutura-conceitual">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#classes-de-equivalencia-validas-e-invalidas">Classes de Equivalência Válidas e Inválidas</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#processo-de-identificacao-de-classes">Processo de Identificação de Classes</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#regras-de-particionamento">Regras de Particionamento</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-pratico-sistema-de-cadastro-de-usuario">Exemplo Prático: Sistema de Cadastro de Usuário</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#modelagem-matematica">Modelagem Matemática</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-consequencias-e-trade-offs">Análise de Consequências e Trade-offs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-critica">Análise Crítica</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-do-valor-limite">2.2. Análise do Valor Limite</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#principio-da-concentracao-de-defeitos-em-fronteiras">Princípio da Concentração de Defeitos em Fronteiras</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#estrategias-de-selecao-de-valores-limite">Estratégias de Seleção de Valores Limite</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-detalhado-sistema-de-reserva-de-passagens">Exemplo Detalhado: Sistema de Reserva de Passagens</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Modelagem Matemática</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Análise de Consequências e Trade-offs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Análise Crítica</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tabelas-de-decisao">2.3. Tabelas de Decisão</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#componentes-fundamentais-de-uma-tabela-de-decisao">Componentes Fundamentais de uma Tabela de Decisão</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#processo-de-construcao-de-tabelas-de-decisao">Processo de Construção de Tabelas de Decisão</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-detalhado-sistema-de-aprovacao-de-credito">Exemplo Detalhado: Sistema de Aprovação de Crédito</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Modelagem Matemática</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Análise de Consequências e Trade-offs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">Análise Crítica</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maquinas-de-estado">2.4. Máquinas de Estado</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#componentes-fundamentais">Componentes Fundamentais</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#representacao-visual">Representação Visual</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-detalhado-sistema-de-autenticacao-bancaria">Exemplo Detalhado: Sistema de Autenticação Bancária</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id13">Modelagem Matemática</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14">Análise de Consequências e Trade-offs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id15">Análise Crítica</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#testes-baseados-em-casos-de-uso">2.5. Testes Baseados em Casos de Uso</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id16">Terminologia Essencial e Definições Formais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id17">Estrutura Conceitual</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#componentes-de-um-caso-de-uso-para-teste">Componentes de um Caso de Uso para Teste</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#processo-de-derivacao-de-testes">Processo de Derivação de Testes</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplo-detalhado-sistema-de-e-commerce-finalizar-compra">Exemplo Detalhado: Sistema de E-commerce - “Finalizar Compra”</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#derivacao-de-casos-de-teste">Derivação de Casos de Teste</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicacao-pratica-e-implementacao">3. Aplicação Prática e Implementação</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estudo-de-caso-guiado-sistema-de-autenticacao-bancaria">3.1. Estudo de Caso Guiado: Sistema de Autenticação Bancária</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#especificacao-do-sistema">Especificação do Sistema</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exemplos-de-codigo-comentado">3.2. Exemplos de Código Comentado</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id18">Particionamento de Equivalência</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id19">Análise do Valor Limite</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tabela-de-decisao">Tabela de Decisão</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#maquina-de-estado">Máquina de Estado</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id20">Testes Baseados em Casos de Uso</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ferramentas-bibliotecas-e-ecossistema">3.3. Ferramentas, Bibliotecas e Ecossistema</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#topicos-avancados-e-nuances">4. Tópicos Avançados e Nuances</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#desafios-comuns-e-anti-padroes">4.1. Desafios Comuns e “Anti-Padrões”</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#explosao-combinatorial-e-gerenciamento-de-complexidade">Explosão Combinatorial e Gerenciamento de Complexidade</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencias-ocultas-e-efeitos-colaterais">Dependências Ocultas e Efeitos Colaterais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#evolucao-de-requisitos-e-manutencao-de-testes">Evolução de Requisitos e Manutenção de Testes</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#validacao-inadequada-de-estados-e-transicoes">Validação Inadequada de Estados e Transições</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variacoes-e-arquiteturas-especializadas">4.2. Variações e Arquiteturas Especializadas</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#particionamento-de-equivalencia-para-apis-e-microservicos">Particionamento de Equivalência para APIs e Microserviços</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-do-valor-limite-para-sistemas-distribuidos">Análise do Valor Limite para Sistemas Distribuídos</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tabelas-de-decisao-para-compliance-e-regulamentacao">Tabelas de Decisão para Compliance e Regulamentação</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analise-de-performance-e-otimizacao">4.3. Análise de Performance e Otimização</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metricas-de-eficacia-das-tecnicas-funcionais">Métricas de Eficácia das Técnicas Funcionais</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estrategias-de-paralelizacao-e-otimizacao">Estratégias de Paralelização e Otimização</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sintese-e-perspectivas-futuras">5. Síntese e Perspectivas Futuras</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conexoes-com-outras-areas-da-computacao">5.1. Conexões com Outras Áreas da Computação</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-fronteira-da-pesquisa-e-o-futuro">5.2. A Fronteira da Pesquisa e o Futuro</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resumo-do-capitulo-e-mapa-mental">5.3. Resumo do Capítulo e Mapa Mental</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#referencias-e-leituras-adicionais">5.4. Referências e Leituras Adicionais</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jackson Antonio do Prado Lima
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>